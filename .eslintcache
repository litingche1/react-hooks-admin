[{"D:\\mycode\\react\\react-hooks-admin\\src\\index.js":"1","D:\\mycode\\react\\react-hooks-admin\\src\\App.js":"2","D:\\mycode\\react\\react-hooks-admin\\src\\compoents\\privateRouter\\index.js":"3","D:\\mycode\\react\\react-hooks-admin\\src\\views\\Login\\index.js":"4","D:\\mycode\\react\\react-hooks-admin\\src\\views\\Index\\index.js":"5","D:\\mycode\\react\\react-hooks-admin\\src\\utils\\cookies.js":"6","D:\\mycode\\react\\react-hooks-admin\\src\\stroe\\index.js":"7","D:\\mycode\\react\\react-hooks-admin\\src\\views\\Login\\LoginFrom.js":"8","D:\\mycode\\react\\react-hooks-admin\\src\\views\\Login\\RegisterFrom.js":"9","D:\\mycode\\react\\react-hooks-admin\\src\\views\\Index\\components\\aside.js":"10","D:\\mycode\\react\\react-hooks-admin\\src\\views\\Index\\components\\header.js":"11","D:\\mycode\\react\\react-hooks-admin\\src\\stroe\\reducer\\department.js":"12","D:\\mycode\\react\\react-hooks-admin\\src\\stroe\\reducer\\job.js":"13","D:\\mycode\\react\\react-hooks-admin\\src\\stroe\\reducer\\config.js":"14","D:\\mycode\\react\\react-hooks-admin\\src\\stroe\\reducer\\user.js":"15","D:\\mycode\\react\\react-hooks-admin\\src\\compoents\\containerMain\\index.js":"16","D:\\mycode\\react\\react-hooks-admin\\src\\utils\\validate.js":"17","D:\\mycode\\react\\react-hooks-admin\\src\\api\\account.js":"18","D:\\mycode\\react\\react-hooks-admin\\src\\stroe\\type.js":"19","D:\\mycode\\react\\react-hooks-admin\\src\\compoents\\containerMain\\components.js":"20","D:\\mycode\\react\\react-hooks-admin\\src\\compoents\\code\\index.js":"21","D:\\mycode\\react\\react-hooks-admin\\src\\compoents\\asideMenu\\index.js":"22","D:\\mycode\\react\\react-hooks-admin\\src\\stroe\\action\\user.js":"23","D:\\mycode\\react\\react-hooks-admin\\src\\utils\\request.js":"24","D:\\mycode\\react\\react-hooks-admin\\src\\views\\department\\add.js":"25","D:\\mycode\\react\\react-hooks-admin\\src\\views\\department\\list.js":"26","D:\\mycode\\react\\react-hooks-admin\\src\\views\\job\\add.js":"27","D:\\mycode\\react\\react-hooks-admin\\src\\views\\job\\list.js":"28","D:\\mycode\\react\\react-hooks-admin\\src\\views\\staff\\list.js":"29","D:\\mycode\\react\\react-hooks-admin\\src\\views\\user\\Add.js":"30","D:\\mycode\\react\\react-hooks-admin\\src\\views\\staff\\Add.js":"31","D:\\mycode\\react\\react-hooks-admin\\src\\views\\user\\list.js":"32","D:\\mycode\\react\\react-hooks-admin\\src\\views\\user\\compoents\\Modal.js":"33","D:\\mycode\\react\\react-hooks-admin\\src\\api\\department.js":"34","D:\\mycode\\react\\react-hooks-admin\\src\\router\\index.js":"35","D:\\mycode\\react\\react-hooks-admin\\src\\api\\table.js":"36","D:\\mycode\\react\\react-hooks-admin\\src\\api\\job.js":"37","D:\\mycode\\react\\react-hooks-admin\\src\\stroe\\action\\config.js":"38","D:\\mycode\\react\\react-hooks-admin\\src\\api\\staff.js":"39","D:\\mycode\\react\\react-hooks-admin\\src\\utils\\requestUrl.js":"40","D:\\mycode\\react\\react-hooks-admin\\src\\compoents\\table\\index.js":"41","D:\\mycode\\react\\react-hooks-admin\\src\\compoents\\FromSearch\\index.js":"42","D:\\mycode\\react\\react-hooks-admin\\src\\compoents\\Form\\index.js":"43","D:\\mycode\\react\\react-hooks-admin\\src\\stroe\\action\\department.js":"44","D:\\mycode\\react\\react-hooks-admin\\src\\utils\\fromTable.js":"45","D:\\mycode\\react\\react-hooks-admin\\src\\compoents\\Select\\index.js":"46","D:\\mycode\\react\\react-hooks-admin\\src\\compoents\\richText\\index.js":"47","D:\\mycode\\react\\react-hooks-admin\\src\\compoents\\Upload\\index.js":"48","D:\\mycode\\react\\react-hooks-admin\\src\\api\\common.js":"49","D:\\mycode\\react\\react-hooks-admin\\src\\utils\\data.js":"50","D:\\mycode\\react\\react-hooks-admin\\src\\api\\user.js":"51","D:\\mycode\\react\\react-hooks-admin\\src\\api\\permissions.js":"52"},{"size":451,"mtime":1612769369978,"results":"53","hashOfConfig":"54"},{"size":751,"mtime":1612769369930,"results":"55","hashOfConfig":"54"},{"size":367,"mtime":1612769369956,"results":"56","hashOfConfig":"54"},{"size":512,"mtime":1612769370179,"results":"57","hashOfConfig":"54"},{"size":1230,"mtime":1612769370175,"results":"58","hashOfConfig":"54"},{"size":662,"mtime":1619603402481,"results":"59","hashOfConfig":"54"},{"size":692,"mtime":1619690938643,"results":"60","hashOfConfig":"54"},{"size":5565,"mtime":1619690352432,"results":"61","hashOfConfig":"54"},{"size":6964,"mtime":1612769370178,"results":"62","hashOfConfig":"54"},{"size":240,"mtime":1612769370173,"results":"63","hashOfConfig":"54"},{"size":1365,"mtime":1619603475826,"results":"64","hashOfConfig":"54"},{"size":486,"mtime":1612769370157,"results":"65","hashOfConfig":"54"},{"size":114,"mtime":1612769370158,"results":"66","hashOfConfig":"54"},{"size":513,"mtime":1612769370156,"results":"67","hashOfConfig":"54"},{"size":1030,"mtime":1619691204350,"results":"68","hashOfConfig":"54"},{"size":479,"mtime":1612769369943,"results":"69","hashOfConfig":"54"},{"size":453,"mtime":1619495622856,"results":"70","hashOfConfig":"54"},{"size":1153,"mtime":1612769369932,"results":"71","hashOfConfig":"54"},{"size":281,"mtime":1619689631450,"results":"72","hashOfConfig":"54"},{"size":589,"mtime":1612769369942,"results":"73","hashOfConfig":"54"},{"size":1709,"mtime":1612769369941,"results":"74","hashOfConfig":"54"},{"size":3591,"mtime":1619686544745,"results":"75","hashOfConfig":"54"},{"size":584,"mtime":1619690534089,"results":"76","hashOfConfig":"54"},{"size":1079,"mtime":1612769370167,"results":"77","hashOfConfig":"54"},{"size":3227,"mtime":1612769370181,"results":"78","hashOfConfig":"54"},{"size":2916,"mtime":1619573252223,"results":"79","hashOfConfig":"54"},{"size":4589,"mtime":1612783625012,"results":"80","hashOfConfig":"54"},{"size":3053,"mtime":1612769370185,"results":"81","hashOfConfig":"54"},{"size":3346,"mtime":1619431408148,"results":"82","hashOfConfig":"54"},{"size":344,"mtime":1612769370186,"results":"83","hashOfConfig":"54"},{"size":10839,"mtime":1619489244395,"results":"84","hashOfConfig":"54"},{"size":3846,"mtime":1619595839706,"results":"85","hashOfConfig":"54"},{"size":8502,"mtime":1619666097226,"results":"86","hashOfConfig":"54"},{"size":1148,"mtime":1612769369933,"results":"87","hashOfConfig":"54"},{"size":1619,"mtime":1619684412897,"results":"88","hashOfConfig":"54"},{"size":428,"mtime":1612769369934,"results":"89","hashOfConfig":"54"},{"size":711,"mtime":1612769369934,"results":"90","hashOfConfig":"54"},{"size":278,"mtime":1612769370153,"results":"91","hashOfConfig":"54"},{"size":730,"mtime":1619494375961,"results":"92","hashOfConfig":"54"},{"size":500,"mtime":1619516918211,"results":"93","hashOfConfig":"54"},{"size":5536,"mtime":1619596774626,"results":"94","hashOfConfig":"54"},{"size":6921,"mtime":1619489244395,"results":"95","hashOfConfig":"54"},{"size":10393,"mtime":1619598496479,"results":"96","hashOfConfig":"54"},{"size":155,"mtime":1612769370154,"results":"97","hashOfConfig":"54"},{"size":526,"mtime":1612769370166,"results":"98","hashOfConfig":"54"},{"size":1893,"mtime":1619341855363,"results":"99","hashOfConfig":"54"},{"size":2342,"mtime":1619489244395,"results":"100","hashOfConfig":"54"},{"size":4077,"mtime":1619489244395,"results":"101","hashOfConfig":"54"},{"size":394,"mtime":1619334545922,"results":"102","hashOfConfig":"54"},{"size":3917,"mtime":1619146097987,"results":"103","hashOfConfig":"54"},{"size":724,"mtime":1619597241401,"results":"104","hashOfConfig":"54"},{"size":208,"mtime":1619659364707,"results":"105","hashOfConfig":"54"},{"filePath":"106","messages":"107","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},"1gxsebh",{"filePath":"109","messages":"110","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"111","messages":"112","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"113","messages":"114","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"115","messages":"116","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"117","messages":"118","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"119","messages":"120","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"121","messages":"122","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"123","usedDeprecatedRules":"108"},{"filePath":"124","messages":"125","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"126","messages":"127","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"128","messages":"129","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"130","messages":"131","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"132","messages":"133","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"134","messages":"135","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"136","messages":"137","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"138","messages":"139","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"140","messages":"141","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"142","usedDeprecatedRules":"108"},{"filePath":"143","messages":"144","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"145","messages":"146","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"147","messages":"148","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"149","messages":"150","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"151","messages":"152","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"153","usedDeprecatedRules":"108"},{"filePath":"154","messages":"155","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"156","messages":"157","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"158","messages":"159","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"160","messages":"161","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"162","messages":"163","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"164","messages":"165","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"166","messages":"167","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"168","messages":"169","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"170","messages":"171","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"172","usedDeprecatedRules":"108"},{"filePath":"173","messages":"174","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"175","messages":"176","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"177","messages":"178","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"179","messages":"180","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"181","messages":"182","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"183","messages":"184","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"185","messages":"186","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"187","messages":"188","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"189","messages":"190","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"191","messages":"192","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"193","usedDeprecatedRules":"108"},{"filePath":"194","messages":"195","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"196","usedDeprecatedRules":"108"},{"filePath":"197","messages":"198","errorCount":0,"warningCount":14,"fixableErrorCount":0,"fixableWarningCount":0,"source":"199","usedDeprecatedRules":"108"},{"filePath":"200","messages":"201","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"202","messages":"203","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"204","messages":"205","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"206","usedDeprecatedRules":"108"},{"filePath":"207","messages":"208","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"209","usedDeprecatedRules":"108"},{"filePath":"210","messages":"211","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"212","usedDeprecatedRules":"108"},{"filePath":"213","messages":"214","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"215","messages":"216","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"217","messages":"218","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},{"filePath":"219","messages":"220","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"108"},"D:\\mycode\\react\\react-hooks-admin\\src\\index.js",[],["221","222"],"D:\\mycode\\react\\react-hooks-admin\\src\\App.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\compoents\\privateRouter\\index.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\views\\Login\\index.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\views\\Index\\index.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\utils\\cookies.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\stroe\\index.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\views\\Login\\LoginFrom.js",["223","224","225"],"import { Fragment, useState, useEffect } from 'react'\r\nimport { Form, Input, Button, Row, Col } from 'antd';\r\nimport { UserOutlined, LockOutlined } from '@ant-design/icons';\r\nimport { passwordCheckRule, validate_email } from '../../utils/validate'\r\nimport { Login } from '../../api/account'\r\nimport Code from '../../compoents/code'\r\nimport CryptoJs from 'crypto-js';\r\nimport { withRouter, useHistory } from 'react-router-dom';\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport { setTokenData, setUserNameData,accountLogin } from 'stroe/action/user'\r\nconst LoginFrom = (props) => {\r\n    const [username, setusername] = useState('')\r\n    const [loading, setloading] = useState(false)\r\n    const history = useHistory()\r\n    useEffect(() => {\r\n        return () => {\r\n            setusername('')\r\n            setloading(false)\r\n        }\r\n    }, [])\r\n    console.log(props.actions)\r\n    const onFinish =  (value) => {\r\n        props.actions.accountLogin(value)\r\n        // setloading(true)\r\n        // let params = {\r\n        //     username: value.username,\r\n        //     password: CryptoJs.MD5(value.password).toString(),\r\n        //     code: value.code\r\n        // }\r\n        // let res = await Login(params)\r\n        // if (res.data.resCode === 0) {\r\n        //     props.actions.setTokenData(res.data.data.token)\r\n        //     props.actions.setUserNameData(res.data.data.username)\r\n        //         sessionStorage.setItem('role',res.data.data.role)\r\n        //     history.push('/index')\r\n        // }\r\n        // setloading(false)\r\n    }\r\n    const module = 'register'\r\n    const goRegister = () => {\r\n        props.showFromType('register')\r\n    }\r\n    return (\r\n        <Fragment>\r\n            <div className=\"form-header\">\r\n                <h4 className=\"column op3\" onClick={goRegister}>注册</h4>\r\n                <span className=\"op1\">登录</span>\r\n            </div>\r\n            <div className=\"form-content\">\r\n                <Form\r\n                    name=\"normal_login\"\r\n                    className=\"login-form\"\r\n                    initialValues={{ remember: true }}\r\n                    onFinish={onFinish}\r\n                >\r\n                    <Form.Item\r\n                        name=\"username\"\r\n                        rules={[\r\n                            ({ getFieldValue }) => ({\r\n                                validator(_, value) {\r\n                                    if (value) {\r\n                                        if (validate_email(value)) {\r\n                                            return Promise.resolve();\r\n                                        } else {\r\n                                            return Promise.reject('邮箱格式不正确!');\r\n                                        }\r\n                                    } else {\r\n                                        return Promise.reject('邮箱不能为空!');\r\n                                    }\r\n\r\n\r\n                                },\r\n                            }),\r\n                        ]}\r\n                    >\r\n                        <Input prefix={<UserOutlined className=\"site-form-item-icon\" />} value={username} placeholder=\"email\" onChange={e => { setusername(e.target.value) }} />\r\n                    </Form.Item>\r\n                    <Form.Item\r\n                        name=\"password\"\r\n                        rules={[\r\n                            { required: true, message: '密码不能为空' },\r\n                            { pattern: passwordCheckRule, message: '请输入6到20位字母+数字的密码' }\r\n                        ]}\r\n                    >\r\n                        <Input\r\n                            prefix={<LockOutlined className=\"site-form-item-icon\" />}\r\n                            type=\"password\"\r\n                            placeholder=\"Password\"\r\n                        />\r\n                    </Form.Item>\r\n                    <Form.Item\r\n                        name=\"code\"\r\n                        rules={[\r\n                            { required: true, message: '验证码不能为空' },\r\n                            { len: 6, message: '请输入6位验证码' }\r\n                        ]}\r\n                    >\r\n                        <Row gutter={13}>\r\n                            <Col className=\"gutter-row\" span={15}>\r\n                                <Input\r\n                                    prefix={<LockOutlined className=\"site-form-item-icon\" />}\r\n                                    placeholder=\"code\"\r\n                                />\r\n                            </Col>\r\n                            <Col className=\"gutter-row\" span={9}>\r\n                                <Code username={username} module={module}></Code>\r\n                            </Col>\r\n                        </Row>\r\n                    </Form.Item>\r\n\r\n                    <Form.Item>\r\n                        <Button block type=\"primary\" htmlType=\"submit\" className=\"login-form-button\" loading={loading}>\r\n                            登录\r\n                        </Button>\r\n                    </Form.Item>\r\n                </Form>\r\n            </div>\r\n        </Fragment>\r\n    )\r\n}\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        actions: bindActionCreators({//多个action的处理\r\n            setTokenData,\r\n            setUserNameData,\r\n            accountLogin\r\n        }, dispatch)\r\n    }\r\n}\r\nexport default connect(\r\n    null,\r\n    mapDispatchToProps\r\n)(withRouter(LoginFrom))\r\n\r\n// export default withRouter(LoginFrom)\r\n","D:\\mycode\\react\\react-hooks-admin\\src\\views\\Login\\RegisterFrom.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\views\\Index\\components\\aside.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\views\\Index\\components\\header.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\stroe\\reducer\\department.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\stroe\\reducer\\job.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\stroe\\reducer\\config.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\stroe\\reducer\\user.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\compoents\\containerMain\\index.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\utils\\validate.js",["226"],"export const passwordCheckRule = /^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,20}$/\r\nconst emailCheckRule = /^([a-zA-Z\\d])(\\w|\\-)+@[a-zA-Z\\d]+\\.[a-zA-Z]{2,4}$/\r\nconst phoneCheckRule=/^1[3456789]\\d{9}$/\r\nexport function validate_email(value) {\r\n    return emailCheckRule.test(value)\r\n}\r\nexport function validate_phone(value){\r\n    return phoneCheckRule.test(value)\r\n}\r\nexport function validate_password(value) {\r\n    return passwordCheckRule.test(value)\r\n}\r\n","D:\\mycode\\react\\react-hooks-admin\\src\\api\\account.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\stroe\\type.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\compoents\\containerMain\\components.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\compoents\\code\\index.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\compoents\\asideMenu\\index.js",["227","228"],"import { Fragment, useState, useEffect } from \"react\"\r\nimport { Menu } from \"antd\"\r\nimport { UserOutlined } from '@ant-design/icons';\r\nimport Router from '../../router'\r\nimport { Link, withRouter, useLocation } from 'react-router-dom'\r\nconst { SubMenu } = Menu\r\nconst AsideMenu = props => {\r\n    let location = useLocation();\r\n    const [selectedKeys, setselectedKeys] = useState(['/index/user/list'])\r\n    const [openKey, setopenKey] = useState(['/index/user'])\r\n    const [RouterList, setRouterList] = useState([Router])\r\n    useEffect(() => {\r\n        setselectedKeys([location.pathname])\r\n        const menuKey = location.pathname.split('/').slice(0, 3).join('/')\r\n        setopenKey([menuKey])\r\n    }, [location])\r\n    useEffect(() => {\r\n        //获取用户权限列表\r\n        const roleList = sessionStorage.getItem('role').split(',')\r\n        let router = []\r\n        console.log(roleList)\r\n        console.log(roleList.indexOf('admin')>= 0)\r\n        //判断是否是超级管理员\r\n        if (roleList.indexOf('admin') >= 0) {\r\n            router = Router\r\n            console.log('admin',router)\r\n        } else {\r\n            //遍历菜单路由，过滤登录的用户拥有的菜单 \r\n            router = Router.filter(item => {\r\n                if (hasPermission(roleList, item)) {\r\n                    if (item.child && item.child.length > 0) {\r\n                        item.child = item.child.filter(elem => {\r\n                            if (hasPermission(roleList, elem)) {\r\n                                return elem\r\n                            }\r\n                        })\r\n                        return item\r\n                    }\r\n                    return item\r\n                }\r\n            })\r\n             console.log('其他',router)\r\n\r\n        }\r\n\r\n        setRouterList(router)\r\n       \r\n    }, [])\r\n    const hasPermission = (roleList, router) => {\r\n        if (router.role && router.role.length > 0) {\r\n            return roleList.some(elm => router.role.indexOf(elm) >= 0)\r\n        }\r\n    }\r\n    const MenuList = ({ key, title }) => {\r\n        return (<Menu.Item key={key}>\r\n            <Link to={key}>{title}</Link>\r\n        </Menu.Item>)\r\n    }\r\n    const SubMenuList = ({ key, title, child }) => {\r\n        return (\r\n\r\n            <SubMenu key={key} icon={<UserOutlined />} title={title}>\r\n                {\r\n                    child && child.map(item => {\r\n                        return item.child && item.child.length > 0 ? SubMenuList(item) : MenuList(item)\r\n                    })\r\n\r\n                }\r\n            </SubMenu>\r\n        )\r\n    }\r\n    //SubMenu 展开/关闭的回调\r\n    const onOpenChange = (value) => {\r\n        setopenKey(value.splice(-1, 1))\r\n    }\r\n    //点击 MenuItem 调用此函数\r\n    const menuClick = ({ item, key, keyPath, domEvent }) => {\r\n        setopenKey([key])\r\n        setselectedKeys([keyPath[keyPath.length - 1]])\r\n    }\r\n    return (\r\n        <Fragment>\r\n            <Menu\r\n                theme=\"dark\"\r\n                mode=\"inline\"\r\n                onClick={menuClick}\r\n                selectedKeys={selectedKeys}\r\n                openKeys={openKey}\r\n                onOpenChange={onOpenChange}\r\n                style={{ height: '100%', borderRight: 0 }}\r\n            >\r\n                {\r\n                    RouterList && RouterList.map(item => {\r\n                        return item.child && item.child.length > 0 ? SubMenuList(item) : MenuList(item)\r\n                    })\r\n\r\n                }\r\n            </Menu>\r\n        </Fragment>\r\n    )\r\n\r\n}\r\n\r\nexport default withRouter(AsideMenu)","D:\\mycode\\react\\react-hooks-admin\\src\\stroe\\action\\user.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\utils\\request.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\views\\department\\add.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\views\\department\\list.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\views\\job\\add.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\views\\job\\list.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\views\\staff\\list.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\views\\user\\Add.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\views\\staff\\Add.js",["229","230","231","232","233"],"import {message, Row, Col, Radio, DatePicker} from 'antd'\r\nimport {staffAdd, staffDetailed, staffEdit} from 'api/staff'\r\nimport {useState, useEffect} from 'react'\r\nimport {useLocation} from 'react-router-dom'\r\nimport FromCommon from 'compoents/Form'\r\nimport 'moment/locale/zh-cn';\r\nimport {nation, face, education} from 'utils/data'\r\nimport {validate_phone} from \"../../utils/validate\";\r\nimport moment from 'moment';\r\n\r\nconst StaffAdd = () => {\r\n    //获取路由传参\r\n    let location = useLocation();\r\n    const [buttonloading, setbuttonloading] = useState(false)\r\n    const [itemId, setitemId] = useState()\r\n    const [FieldsValue, setFieldsValue] = useState({})\r\n    useEffect(() => {\r\n        if (location.state) {\r\n            setitemId(location.state.id)\r\n            getDepartmentDetailed(location.state.id)\r\n        }\r\n        return () => {\r\n            setbuttonloading(false)\r\n        }\r\n    }, [location.state])\r\n    //编辑修改\r\n    const getDepartmentDetailed = async (id) => {\r\n        let res = await staffDetailed({id})\r\n        if (res.data.resCode === 0) {\r\n            const data = res.data.data\r\n            //处理日期格式\r\n            const basisData = {\r\n                birthday: data.birthday ? moment(data.birthday) : null,\r\n                job_entry_date: data.birthday ? moment(data.job_entry_date) : null,\r\n                job_formal_date: data.birthday ? moment(data.job_formal_date) : null,\r\n                job_quit_date: data.birthday ? moment(data.job_quit_date) : null,\r\n            }\r\n            setFieldsValue({...data, ...basisData})\r\n        }\r\n    }\r\n    //添加\r\n    const addItem = async (data) => {\r\n        try {\r\n            let res = await staffAdd(data)\r\n            if (res.data.resCode === 0) {\r\n                message.success(res.data.message)\r\n                setbuttonloading(false)\r\n                const abcData={\r\n                    face_img: '',\r\n                    diploma_img: '',\r\n                    introduce: ''\r\n                }\r\n                setFieldsValue({...FieldsValue,...abcData})\r\n                console.log()\r\n            }\r\n\r\n        } catch {\r\n            setbuttonloading(false)\r\n        }\r\n    }\r\n    //修改\r\n    const modify = async data => {\r\n        let params = data\r\n        params.id = itemId\r\n        try {\r\n            let res = await staffEdit(params)\r\n            if (res.data.resCode === 0) {\r\n                message.success(res.data.message)\r\n                setbuttonloading(false)\r\n            }\r\n        } catch {\r\n            setbuttonloading(false)\r\n        }\r\n\r\n    }\r\n    //表单提交\r\n    const onFinish = async value => {\r\n        setbuttonloading(true)\r\n        itemId ? modify(value) : addItem(value)\r\n    }\r\n    const formItemLayout = {\r\n        labelCol: {span: 2},\r\n        wrapperCol: {span: 20}\r\n    }\r\n    const fromKey = 'parentId'\r\n    const formItem = [\r\n        {\r\n            type: \"Column\",\r\n            label: \"个人信息\"\r\n        },\r\n        {\r\n            type: 'Input',\r\n            label: '姓名',\r\n            required: true,\r\n            name: 'name',\r\n            Select: \"请输入姓名\"\r\n        },\r\n        {\r\n            type: 'Radio',\r\n            label: '性别',\r\n            name: 'sex',\r\n            required: true,\r\n            rules: [],\r\n            options: [\r\n                {value: true, label: '男'},\r\n                {value: false, label: '女'}\r\n            ]\r\n        },\r\n        {\r\n            type: 'Upload',\r\n            label: '头像',\r\n            name: 'face_img',\r\n        },\r\n        {\r\n            type: 'Input',\r\n            label: '身份证号码',\r\n            required: true,\r\n            name: 'card_id',\r\n            Select: \"请输入身份证号码\",\r\n            rules: [],\r\n        },\r\n        {\r\n            type: 'Date',\r\n            label: '出生年月',\r\n            name: 'birthday',\r\n            format: 'YYYY/MM/DD',\r\n            picker: '',\r\n            rules: [],\r\n        },\r\n        {\r\n            type: 'Input',\r\n            label: '手机',\r\n            required: true,\r\n            name: 'phone',\r\n            Select: \"请输入手机号码\",\r\n            rules: [\r\n                () => ({\r\n                    validator(_, value) {\r\n                        if (validate_phone(value)) {\r\n                            return Promise.resolve();\r\n                        }\r\n                        return Promise.reject('手机格式不正确，请输入正确的手机号码!');\r\n\r\n                    },\r\n                })\r\n            ],\r\n        },\r\n        {\r\n            type: 'Select',\r\n            label: '民族',\r\n            required: true,\r\n            name: 'nation',\r\n            Select: \"请选择民族\",\r\n            rules: [],\r\n            options: nation\r\n        },\r\n        {\r\n            type: 'Select',\r\n            label: '政治面貌',\r\n            Select: \"请选择政治面貌\",\r\n            required: true,\r\n            name: 'political',\r\n            rules: [],\r\n            options: face\r\n        },\r\n        {\r\n            type: 'Input',\r\n            label: '毕业院校',\r\n            Select: \"请输入毕业院校\",\r\n            required: true,\r\n            name: 'school',\r\n            rules: [],\r\n        },\r\n        {\r\n            type: 'Input',\r\n            label: '专业',\r\n            required: true,\r\n            name: 'major',\r\n            Select: \"请输入专业\",\r\n            rules: [],\r\n        },\r\n        {\r\n            type: 'Select',\r\n            label: '学历',\r\n            required: true,\r\n            name: 'education',\r\n            Select: \"请输入学历\",\r\n            rules: [],\r\n            options: education\r\n        },\r\n        {\r\n            type: 'Upload',\r\n            label: '毕业证书',\r\n            name: 'diploma_img',\r\n        },\r\n        {\r\n            type: 'Input',\r\n            label: '微信号',\r\n            required: true,\r\n            name: 'wechat',\r\n            Select: \"请输入微信号\",\r\n            rules: [],\r\n        },\r\n        {\r\n            type: 'Input',\r\n            label: '个人邮箱',\r\n            required: true,\r\n            name: 'email',\r\n            Select: \"请输入个人邮箱\",\r\n            rules: [{\r\n                type: 'email', message: '邮箱格式不正确'\r\n            }],\r\n        },\r\n        {\r\n            type: \"Column\",\r\n            label: \"就职信息\"\r\n        },\r\n        {\r\n            type: 'SelectData',\r\n            label: '职位',\r\n            required: true,\r\n            name: 'job_id',\r\n            url: 'jobAll',\r\n            propsKey: {\r\n                value: 'jobId',\r\n                label: 'jobName'\r\n            },\r\n            Select: \"请选择职位\",\r\n            rules: [],\r\n        },\r\n        {\r\n            type: 'SelectData',\r\n            label: '所属部门',\r\n            required: true,\r\n            url: 'departmentAll',\r\n            name: 'departmen_id',\r\n            propsKey: {\r\n                value: 'id',\r\n                label: 'name'\r\n            },\r\n            Select: \"请选择所属部门\",\r\n            rules: [],\r\n        },\r\n        {\r\n            type: 'FormItemInline',\r\n            label: '职位状态',\r\n            required: true,\r\n            name: 'job_status',\r\n            soltName: 'jobStatus',\r\n            rules: [],\r\n            inline_item: [\r\n                {\r\n                    type: 'Date',\r\n                    label: '入职日期',\r\n                    name: 'job_entry_date',\r\n                    col: 6,\r\n                    required: true,\r\n                    style: {width: \"100%\"}\r\n                },\r\n                {\r\n                    type: 'Date',\r\n                    label: '转正日期',\r\n                    name: 'job_formal_date',\r\n                    style: {width: \"100%\"},\r\n                    required: true,\r\n                    col: 6,\r\n                },\r\n                {\r\n                    type: 'Date',\r\n                    label: '离职日期',\r\n                    name: 'job_quit_date',\r\n                    style: {width: \"100%\"},\r\n                    required: true,\r\n                    col: 6,\r\n                },\r\n            ]\r\n        },\r\n        // {\r\n        //     type: 'Solt',\r\n        //     label: '职位状态',\r\n        //     required: true,\r\n        //     name: 'job_status',\r\n        //     soltName: 'jobStatus',\r\n        //     rules: [],\r\n        // },\r\n        {\r\n            type: 'Input',\r\n            label: '公司邮箱',\r\n            required: true,\r\n            name: 'company_email',\r\n            rules: [],\r\n        },\r\n        {\r\n            type: 'Editor',\r\n            label: '描述',\r\n            required: true,\r\n            name: 'introduce',\r\n            rules: [],\r\n        },\r\n        {\r\n            type: 'Radio',\r\n            label: '禁启用',\r\n            name: 'status',\r\n            required: true,\r\n            rules: [],\r\n            options: [\r\n                {value: true, label: '启用'},\r\n                {value: false, label: '禁用'}\r\n            ]\r\n        },\r\n    ]\r\n    //表单的初始化值\r\n    const initialValues = {\r\n        radio: false, textArea: '', number: 0, name: ''\r\n    }\r\n    const onChange = (e) => {\r\n        // setjobStatusValue(e.target.value)\r\n    }\r\n    return (\r\n        <div>\r\n            <FromCommon fromKey={fromKey} formItem={formItem} formItemLayout={formItemLayout}\r\n                        initialValues={initialValues} FieldsValue={FieldsValue} onFinish={onFinish}\r\n                        buttonloading={buttonloading}>\r\n                {/*<div ref=\"jobStatus\" style={{width:'500px'}}>*/}\r\n                {/*    <Radio.Group onChange={onChange} value={jobStatusValue} style={{width:'100%'}}>*/}\r\n                {/*    <Row gutter={24}>*/}\r\n                {/*        <Col span={8}>*/}\r\n                {/*            <Radio value={'online'}>在职</Radio>*/}\r\n                {/*            <div className=\"mb15\"></div>*/}\r\n                {/*            <DatePicker locale={locale}/>*/}\r\n                {/*        </Col>*/}\r\n                {/*        <Col span={8}>*/}\r\n                {/*            <Radio value={'vacation'}>休假</Radio>*/}\r\n                {/*            <div className=\"mb15\"></div>*/}\r\n                {/*            <DatePicker locale={locale}/>*/}\r\n                {/*        </Col>*/}\r\n                {/*        <Col span={8}>*/}\r\n                {/*            <Radio value={'quit'}>离职</Radio>*/}\r\n                {/*            <div className=\"mb15\"></div>*/}\r\n                {/*            <DatePicker locale={locale}/>*/}\r\n                {/*        </Col>*/}\r\n                {/*    </Row>*/}\r\n                {/*    </Radio.Group>*/}\r\n                {/*</div>*/}\r\n            </FromCommon>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default StaffAdd\r\n","D:\\mycode\\react\\react-hooks-admin\\src\\views\\user\\list.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\views\\user\\compoents\\Modal.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\api\\department.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\router\\index.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\api\\table.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\api\\job.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\stroe\\action\\config.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\api\\staff.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\utils\\requestUrl.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\compoents\\table\\index.js",["234","235"],"import { useState, useEffect, Fragment, useImperativeHandle } from 'react'\r\nimport { Button, Table, Row, Col, Pagination, Modal, message } from 'antd';\r\nimport { DeleteList } from 'api/table'\r\nimport PropTypes from 'prop-types';\r\nimport requestUrl from 'utils/requestUrl'\r\nimport { getList } from 'utils/fromTable'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport { addDepartment } from 'stroe/action/department'\r\nlet TableCommon = (props) => {\r\n    const [tableLoading, settableLoading] = useState(false)\r\n    const [pageNumber, setpageNumber] = useState(1)\r\n    const [pageSize, setpageSize] = useState(10)\r\n    // const [total, settotal] = useState(props.list.departmentList.total)\r\n    const [prepageSize, prepageSizeset] = useState(10)\r\n    const [isModalVisible, setisModalVisible] = useState(false)\r\n    const [itemId, setitemId] = useState()\r\n    const [SelectList, setSelectList] = useState([])\r\n    const[tabelDataList,settabelDataList]=useState()\r\n    useEffect(() => {\r\n        if (prepageSize !== pageSize) {\r\n            setpageNumber(1)\r\n        }\r\n    }, [pageSize])\r\n    useEffect(() => {\r\n        getData()\r\n        return () => {\r\n            props.actions.addDate({ data: [], total: 0 })\r\n        }\r\n    }, [pageNumber])\r\n    const { columns, url, method, checkbox } = props.config\r\n    const { total } = props.list.departmentList\r\n    const { rowKey,dataList } = props\r\n    //获取表格数据\r\n    const getData = async () => {\r\n        settableLoading(true)\r\n        const params = {\r\n            url,\r\n            pageNumber,\r\n            method,\r\n            pageSize,\r\n        }\r\n        let res = await getList(params)\r\n        if (res.data.resCode === 0) {\r\n            // console.log(res.data.data)\r\n            props.actions.addDate(res.data.data)\r\n            dataList&&settabelDataList(res.data.data.data)\r\n            // console.log(dataList)\r\n            // console.log(tabelDataList)\r\n            settableLoading(false)\r\n            prepageSizeset(pageSize)\r\n        }\r\n    }\r\n    //分页的当前页\r\n    const onChangeCurrnePage = (value, page) => {\r\n        setpageNumber(value)\r\n    }\r\n    //每页条数\r\n    const onShowSizeChange = (value, page) => {\r\n        setpageSize(page)\r\n    }\r\n    //复选框方法\r\n    const onCheckbox = (value) => {\r\n        console.log(value)\r\n        setSelectList(value)\r\n    }\r\n    //表格复选框\r\n    const rowSelection = {\r\n        onChange: onCheckbox\r\n    }\r\n    //父组件调用删除\r\n    useImperativeHandle(props.cref, () => ({\r\n        deleteItem: (id) => {\r\n            deleteList(id)\r\n        },\r\n        getList:()=>{  //父组件调用子组件刷新\r\n            getData()\r\n        }\r\n    }))\r\n\r\n\r\n    //删除\r\n    const deleteList = id => {\r\n        if (id) {\r\n            setitemId(id)\r\n        } else {\r\n            if (SelectList.length <= 0) return false\r\n            let idList = SelectList.join()\r\n            setitemId(idList)\r\n        }\r\n        setisModalVisible(true)\r\n\r\n    }\r\n    const handleOk = async () => {\r\n        const resData = {\r\n            url: requestUrl[`${url}delete`],\r\n            method,\r\n            params: {\r\n                id: itemId\r\n            }\r\n\r\n        }\r\n        let res = await DeleteList(resData)\r\n        if (res.data.resCode === 0) {\r\n            message.success(res.data.message)\r\n            setisModalVisible(false)\r\n            setSelectList([])\r\n            getData()\r\n        }\r\n    }//props.list.departmentList.data\r\n    return (\r\n        <Fragment>\r\n            <Table pagination={false} rowKey={rowKey ? rowKey : \"id\"} rowSelection={checkbox ? rowSelection : null} loading={tableLoading} columns={columns} dataSource={dataList?tabelDataList : props.list.departmentList.data} bordered></Table>\r\n            <Row className=\"mt10\">\r\n                <Col span={8}>\r\n                    {\r\n                        props.batchButton && <Button onClick={() => { deleteList() }}>批量删除</Button>\r\n                    }\r\n                </Col>\r\n                <Col span={16}>\r\n                    <Pagination\r\n                        className=\"pull-right\"\r\n                        current={pageNumber}\r\n                        onChange={onChangeCurrnePage}\r\n                        onShowSizeChange={onShowSizeChange}\r\n                        total={total}\r\n                        showTotal={total => `总共${total} 条`}\r\n                        showQuickJumper\r\n                        showSizeChanger\r\n                        pageSize={pageSize}\r\n                    />\r\n                </Col>\r\n            </Row>\r\n            <Modal title=\"提示！\" okText=\"确定\" cancelText=\"取消\" visible={isModalVisible} onOk={handleOk} onCancel={() => { setisModalVisible(false) }}>\r\n                <p className=\"tex-c\">确定删除该信息吗？<strong className=\"color-red\">删除后将无法恢复</strong></p>\r\n            </Modal>\r\n        </Fragment>\r\n    )\r\n}\r\n//校验数据类型\r\nTableCommon.propTypes = {\r\n    config: PropTypes.object\r\n}\r\n//默认值\r\nTableCommon.defaultProps = {\r\n    batchButton: false\r\n}\r\n//把store中的数据映射到这个组件变成props\r\nconst mapStateToProps = state => {\r\n    return {\r\n        list: state.department\r\n    }\r\n}\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        actions: bindActionCreators({//多个action的处理\r\n            addDate: addDepartment,\r\n        }, dispatch)\r\n    }\r\n}\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(TableCommon)\r\n","D:\\mycode\\react\\react-hooks-admin\\src\\compoents\\FromSearch\\index.js",["236"],"import { useEffect, useState, Fragment } from 'react'\r\nimport { Form, Input, Button, Select, Radio, InputNumber,Row,Col } from 'antd'\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux'\r\nimport { addDepartment } from 'stroe/action/department'\r\nimport GetRemoteSelect from 'compoents/Select/index'\r\nimport { getList } from 'utils/fromTable'\r\nconst { Option } = Select\r\nconst FromSearch = (props) => {\r\n    const { FieldsValue, config } = props\r\n    const [form] = Form.useForm();\r\n    const [loading, setloading] = useState(false)\r\n    useEffect(() => {\r\n        form.setFieldsValue(FieldsValue)\r\n    }, [FieldsValue, form])\r\n    const messageRules = {\r\n        'Input': '请输入',\r\n        'TextArea': '请输入',\r\n        'Radio': '请选择',\r\n        'InputNumber': '请输入',\r\n        'Select': '请选择',\r\n    }\r\n    //获取表格数据\r\n    const getData = async (data) => {\r\n        const params = {\r\n            url: data.url,\r\n            pageNumber: 1,\r\n            method: 'post',\r\n            pageSize: 10,\r\n            keyWord: data.keyWord,\r\n        }\r\n        let res = await getList(params)\r\n        if (res.data.resCode === 0) {\r\n            props.actions.addDate(res.data.data)\r\n            setloading(false)\r\n            form.resetFields()\r\n        }\r\n    }\r\n    //表单提交\r\n    const onFinish = async value => {\r\n        setloading(true)\r\n        getData({\r\n            url: 'department', keyWord: value\r\n        })\r\n    }\r\n    //校验规则\r\n    const itemRules = (item) => {\r\n        let rules = []\r\n        if (item.required) {\r\n            let message = item.message || `${messageRules[item.type]}${item.label}`\r\n            rules.push({ required: true, message })\r\n        }\r\n        if (item.rules && item.rules.length > 0) {\r\n            rules.concat(item.rules)\r\n        }\r\n        return rules\r\n    }\r\n    //input\r\n    const inputElem = (item) => {\r\n        const rules = itemRules(item)\r\n        return (\r\n            <Form.Item label={item.label} name={item.name} key={item.name} rules={rules}>\r\n                <Input placeholder={item.Select} />\r\n            </Form.Item>\r\n        )\r\n    }\r\n    //inputNumber\r\n    const inputNumber = (item) => {\r\n        const rules = itemRules(item)\r\n        return (\r\n            <Form.Item label={item.label} name={item.name} key={item.name} rules={rules}>\r\n                <InputNumber min={item.min} max={item.max} value={1} />\r\n            </Form.Item>\r\n        )\r\n    }\r\n    //TextArea\r\n    const textAreaElem = (item) => {\r\n        const rules = itemRules(item)\r\n        return (\r\n            <Form.Item label={item.label} name={item.name} key={item.name} rules={rules}>\r\n                <Input.TextArea placeholder={item.Select} />\r\n            </Form.Item>\r\n        )\r\n    }\r\n    //select\r\n    const select = (item) => {\r\n        const rules = itemRules(item)\r\n        return (\r\n            <Form.Item label={item.label} name={item.name} key={item.name} rules={rules}>\r\n                <Select style={item.style} placeholder={item.Select}>\r\n                    {\r\n                        item.options && item.options.map(elem => {\r\n                            return <Option value={elem.value} key={elem.value}>{elem.label}</Option>\r\n                        })\r\n                    }\r\n\r\n                </Select>\r\n            </Form.Item>\r\n        )\r\n    }\r\n    //selectdata\r\n    const selectData = (item) => {\r\n        const rules = itemRules(item)\r\n        return (\r\n            <Form.Item label={item.label} name={item.name} key={item.name} rules={rules}>\r\n                <GetRemoteSelect data={item} url={item.url && item.url} />\r\n            </Form.Item>\r\n        )\r\n    }\r\n    //radio\r\n    const radio = item => {\r\n        const rules = itemRules(item)\r\n        return (\r\n            <Form.Item label={item.label} name={item.name} key={item.name} rules={rules}>\r\n                <Radio.Group>\r\n                    {\r\n                        item.options && item.options.map(elem => {\r\n                            return <Radio value={elem.value} key={`${elem.value}${elem.label}`}>{elem.label}</Radio>\r\n                        })\r\n                    }\r\n\r\n                </Radio.Group>\r\n\r\n            </Form.Item>\r\n        )\r\n    }\r\n    //初始化表单\r\n    const initFromItem = () => {\r\n        const { formItem } = props\r\n        if (!formItem || (formItem && formItem.length === 0)) {\r\n            return false\r\n        }\r\n        const fromList = []\r\n        formItem.map(item => {\r\n            switch (item.type) {\r\n                case 'Input':\r\n                    fromList.push(inputElem(item))\r\n                    break;\r\n                case 'TextArea':\r\n                    fromList.push(textAreaElem(item))\r\n                    break;\r\n                case 'Select':\r\n                    item.options = config.select\r\n                    fromList.push(select(item))\r\n                    break;\r\n                case 'SelectData':\r\n                    fromList.push(selectData(item))\r\n                    break;\r\n                case 'Radio':\r\n                    fromList.push(radio(item))\r\n                    break;\r\n                case 'InputNumber':\r\n                    fromList.push(inputNumber(item))\r\n                    break;\r\n                default:\r\n                    fromList.push()\r\n            }\r\n        })\r\n        return fromList\r\n    }\r\n    const { formItemLayout, initialValues,submitButton } = props\r\n    return (\r\n        <Fragment>\r\n            <Row>\r\n                <Col span={20}><Form layout=\"inline\" form={form}  {...formItemLayout} onFinish={onFinish} initialValues={initialValues}>\r\n                    {initFromItem()}\r\n                    <Form.Item>\r\n                        {\r\n                            submitButton? <Button type=\"primary\" htmlType=\"submit\" loading={loading}>搜索</Button> : ''\r\n                        }\r\n\r\n                    </Form.Item>\r\n                </Form></Col>\r\n                <Col span={4}>\r\n                    <div className=\"pull-right\">\r\n                        {props.children}\r\n                    </div>\r\n                    </Col>\r\n            </Row>\r\n\r\n\r\n        </Fragment>\r\n\r\n    )\r\n}\r\n//校验数据类型\r\nFromSearch.propTypes = {\r\n    formItem: PropTypes.array,\r\n    // submitButton:PropTypes.\r\n}\r\n//默认值\r\nFromSearch.defaultProps = {\r\n    formItem: [],\r\n    submitButton:true,\r\n}\r\nconst mapStateToProps = (state) => ({\r\n    config: state.config\r\n})\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        // search: bindActionCreators(addDepartment,dispatch),//单个action的处理\r\n        actions: bindActionCreators({//多个action的处理\r\n            addDate: addDepartment,\r\n            // search:addDepartment\r\n        }, dispatch)\r\n    }\r\n}\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(FromSearch)\r\n","D:\\mycode\\react\\react-hooks-admin\\src\\compoents\\Form\\index.js",["237","238","239","240","241","242","243","244","245","246","247","248","249","250"],"import { useEffect, useState, Fragment, useImperativeHandle } from 'react'\r\nimport { Form, Input, Button, Select, Radio, InputNumber, DatePicker, Row, Col } from 'antd'\r\nimport 'moment/locale/zh-cn';\r\nimport locale from 'antd/es/date-picker/locale/zh_CN';\r\nimport GetRemoteSelect from 'compoents/Select/index'\r\nimport UploadCom from \"compoents/Upload/index\"\r\nimport RichText from 'compoents/richText/index'\r\nimport 'styles/main.scss'\r\nconst { Option } = Select\r\nconst FromCommon = (props) => {\r\n    const { FieldsValue, buttonloading, formItemLayout, initialValues, formItem, fromKey } = props\r\n    const [form] = Form.useForm();\r\n    const [loading, setloading] = useState(false)\r\n    useEffect(() => {\r\n        form.setFieldsValue(FieldsValue)\r\n        console.log(FieldsValue)\r\n    }, [FieldsValue, form])\r\n    useEffect(() => {\r\n        console.log(buttonloading)\r\n        setloading(false)\r\n        resetFrom()\r\n    }, [buttonloading])\r\n    const messageRules = {\r\n        'Input': '请输入',\r\n        'TextArea': '请输入',\r\n        'Radio': '请选择',\r\n        'InputNumber': '请输入',\r\n        'Select': '请选择',\r\n        'SelectData': '请选择',\r\n        \"Date\": '请选择',\r\n        \"Upload\": '请上传',\r\n        \"Editor\": '请输入'\r\n    }\r\n    const resetFrom = () => {\r\n        form.resetFields()\r\n    }\r\n    useImperativeHandle(props.cref, () => ({\r\n        Rreset: () => {\r\n            resetFrom()\r\n        },\r\n    }))\r\n    //表单提交\r\n    const onFinish = async value => {\r\n        //格式化数据，value原来的值\r\n        //         content: \"sss\"\r\n        // jobName: \"javad\"\r\n        // parentId:{\r\n        // parentId: 3762\r\n        // }\r\n        // radio: false\r\n        if (fromKey && value[fromKey]) {\r\n            if (Object.prototype.toString.call(value[fromKey]) !== \"[object String]\") {\r\n                const dataKey = value[fromKey]\r\n                delete value[fromKey]\r\n                value = Object.assign(value, dataKey)\r\n            }\r\n        }\r\n        setloading(true)\r\n        props.onFinish(value)\r\n    }\r\n    //校验规则\r\n    const itemRules = (item) => {\r\n        let rules = []\r\n        if (item.required) {\r\n            let message = item.message || `${messageRules[item.type]}${item.label}`\r\n            rules.push({ required: true, message })\r\n        }\r\n        if (item.rules && item.rules.length > 0) {\r\n            rules = [...rules, ...item.rules]\r\n        }\r\n        return rules\r\n    }\r\n    const BlurEvent=(e)=>{\r\n        props.onBlur(e.currentTarget)\r\n         console.log(e)\r\n    }\r\n    //input\r\n    const inputElem = (item) => {\r\n        const rules = itemRules(item)\r\n        // console.log(rules)\r\n        return (\r\n            <Form.Item label={item.label} name={item.name} key={item.name} rules={rules} shouldUpdate={item.shouldUpdate || false} validateTrigger={item.validateTrigger || 'onChange'}>\r\n                <Input type={item.inputType || 'text'} placeholder={item.Select} onBlur={item.blurEvent&&BlurEvent}/>\r\n            </Form.Item>\r\n        )\r\n    }\r\n    //inputNumber\r\n    const inputNumber = (item) => {\r\n        const rules = itemRules(item)\r\n        return (\r\n            <Form.Item label={item.label} name={item.name} key={item.name} rules={rules}>\r\n                <InputNumber min={item.min} max={item.max} value={1} />\r\n            </Form.Item>\r\n        )\r\n    }\r\n    //TextArea\r\n    const textAreaElem = (item) => {\r\n        const rules = itemRules(item)\r\n        return (\r\n            <Form.Item label={item.label} name={item.name} key={item.name} rules={rules}>\r\n                <Input.TextArea placeholder={item.Select} />\r\n            </Form.Item>\r\n        )\r\n    }\r\n    //antd表单的自定义或第三方的表单控件\r\n    const checkPrice = (rule, value) => {\r\n        if (value) {\r\n            return Promise.resolve();\r\n        }\r\n        return Promise.reject();\r\n\r\n\r\n    }\r\n    //Solt插槽\r\n    const Solt = (item) => {\r\n        const rules = itemRules(item)\r\n        return (\r\n            <Form.Item label={item.label} name={item.name} key={item.name} rules={rules}>\r\n                {\r\n                    //   console.log(props.children)\r\n                    props.children && Array.isArray(props.children) ? props.children.filter(elm => elm.ref === item.soltName)[0] : props.children\r\n                }\r\n            </Form.Item>\r\n        )\r\n    }\r\n    //select\r\n    const selectData = (item) => {\r\n        const rules = itemRules(item)\r\n        return (\r\n            <Form.Item label={item.label} name={item.name} key={item.name} rules={[...rules, { validator: checkPrice }]}>\r\n                <GetRemoteSelect data={item} url={item.url && item.url} name={item.name} />\r\n            </Form.Item>\r\n        )\r\n    }\r\n    //select\r\n    const select = (item) => {\r\n        const rules = itemRules(item)\r\n        return (\r\n            <Form.Item label={item.label} name={item.name} key={item.name} rules={rules}>\r\n                <Select style={item.style} placeholder={item.Select}>\r\n                    {\r\n                        item.options && item.options.map(elem => {\r\n                            return <Option value={elem.value} key={elem.value}>{elem.label}</Option>\r\n                        })\r\n                    }\r\n\r\n                </Select>\r\n            </Form.Item>\r\n        )\r\n    }\r\n    //radio\r\n    const radio = item => {\r\n        const rules = itemRules(item)\r\n        return (\r\n            <Form.Item label={item.label} name={item.name} key={item.name} rules={rules}>\r\n                <Radio.Group>\r\n                    {\r\n                        item.options && item.options.map(elem => {\r\n                            return <Radio value={elem.value} key={`${elem.value}${elem.label}`}>{elem.label}</Radio>\r\n                        })\r\n                    }\r\n\r\n                </Radio.Group>\r\n\r\n            </Form.Item>\r\n        )\r\n    }\r\n    //栏目\r\n    const columnElem = item => {\r\n        return (\r\n            <div className=\"form-column\">\r\n                <h4>{item.label}</h4>\r\n            </div>\r\n        )\r\n    }\r\n    //日期\r\n    const dateElem = item => {\r\n        const rules = itemRules(item)\r\n        return (\r\n            <Form.Item label={item.label} name={item.name} key={item.name} rules={rules}>\r\n\r\n                <DatePicker locale={locale} format={item.format} picker={item.picker} />\r\n\r\n            </Form.Item>\r\n        )\r\n    }\r\n    //图片上传\r\n    const uploadElem = item => {\r\n        const rules = itemRules(item)\r\n        return (\r\n            <Form.Item label={item.label} name={item.name} key={item.name} rules={rules}>\r\n\r\n                <UploadCom name={item.name} initValue={FieldsValue} />\r\n\r\n            </Form.Item>\r\n\r\n        )\r\n    }\r\n    //富文本\r\n    const editorElem = item => {\r\n        const rules = itemRules(item)\r\n        return (\r\n            <Form.Item label={item.label} name={item.name} key={item.name} rules={[...rules, { validator: checkPrice }]}>\r\n\r\n                <RichText name={item.name} initValue={FieldsValue} />\r\n\r\n            </Form.Item>\r\n\r\n        )\r\n    }\r\n    //内联\r\n    const FormItemInlineElem = item => {\r\n        const rules = itemRules(item)\r\n        return (\r\n            <Row gutter={24}>\r\n                <Col span={2} className=\"ant-form-item\" style={{ textAlign: \"right\" }}>\r\n                    <div className=\"ant-form-item-label\">\r\n                        <label for=\"name\" className=\"ant-form-item-required\">{item.label}</label>\r\n                    </div>\r\n                </Col>\r\n                <Col span={22}>\r\n                    <Row>\r\n                        {\r\n                            item.inline_item.map(elem => {\r\n                                return (\r\n                                    <Col span={elem.col} className=\"form-item-inline-control\">{createControl(elem)}</Col>\r\n                                )\r\n                            })\r\n                        }\r\n                    </Row>\r\n                </Col>\r\n            </Row>\r\n        )\r\n\r\n    }\r\n    //创建表单\r\n    const createControl = item => {\r\n        switch (item.type) {\r\n            case 'Input':\r\n                return inputElem(item)\r\n                break;\r\n            case 'TextArea':\r\n                return textAreaElem(item)\r\n                break;\r\n            case 'SelectData':\r\n                return selectData(item)\r\n                break;\r\n            case 'Select':\r\n                return select(item)\r\n                break;\r\n            case 'Solt':\r\n                return Solt(item)\r\n                break;\r\n            case 'Radio':\r\n                return radio(item)\r\n                break;\r\n            case 'InputNumber':\r\n                return inputNumber(item)\r\n                break;\r\n            case 'Column':\r\n                return columnElem(item)\r\n                break;\r\n            case 'Date':\r\n                return dateElem(item)\r\n                break;\r\n            case \"Upload\":\r\n                return uploadElem(item)\r\n                break;\r\n            case \"Editor\":\r\n                return editorElem(item)\r\n                break;\r\n            case \"FormItemInline\":\r\n                return FormItemInlineElem(item)\r\n                break\r\n            default:\r\n                return\r\n        }\r\n    }\r\n\r\n    //初始化表单\r\n    const initFromItem = () => {\r\n        if (!formItem || (formItem && formItem.length === 0)) {\r\n            return false\r\n        }\r\n        let fromList = formItem.map(item => createControl(item))\r\n        return fromList\r\n    }\r\n    const { submitButton } = props\r\n    return (\r\n        <Fragment>\r\n            <Form form={form}  {...formItemLayout} onFinish={onFinish} initialValues={initialValues}>\r\n                {initFromItem()}\r\n                <Form.Item>\r\n                    {\r\n                        <Row>\r\n                            <Col span={formItemLayout.labelCol.span}></Col>\r\n                            <Col span={formItemLayout.wrapperCol.span}>\r\n                                {submitButton ? <Button type=\"primary\" htmlType=\"submit\" loading={loading}>确定</Button> : ''}\r\n                            </Col>\r\n                        </Row>\r\n\r\n                    }\r\n\r\n                </Form.Item>\r\n            </Form>\r\n\r\n        </Fragment>\r\n\r\n    )\r\n}\r\nFromCommon.defaultProps = {\r\n    submitButton: true,\r\n}\r\nexport default FromCommon\r\n","D:\\mycode\\react\\react-hooks-admin\\src\\stroe\\action\\department.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\utils\\fromTable.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\compoents\\Select\\index.js",["251","252"],"import { useEffect, useState } from 'react'\r\nimport { Select } from 'antd'\r\nimport requestUrl from 'utils/requestUrl'\r\nimport { TableList } from 'api/table'\r\nconst { Option } = Select\r\nconst GetRemoteSelect = props => {\r\n    const { data, url, onChange, name, value } = props\r\n    const [selectData, setselectData] = useState([])\r\n    const [selectValue, setselectValue] = useState([])\r\n    useEffect(() => {\r\n        getList()\r\n        return () => {\r\n            setselectData([])\r\n            setselectValue([])\r\n        }\r\n    }, [url])\r\n    useEffect(() => {\r\n        let values = value\r\n        if (!values) { return false }\r\n        console.log(Object.prototype.toString.call(values))\r\n        if (Object.prototype.toString.call(values) === \"[object String]\") {\r\n            setselectValue(value)\r\n        }\r\n        return () => {\r\n        }\r\n    }, [value])\r\n    const getList = async () => {\r\n        const params = {\r\n            url: requestUrl[url]\r\n        }\r\n        let res = await TableList(params)\r\n        setselectData(res.data.data.data)\r\n    }\r\n    const onSelectChange = (newValue) => {\r\n        setselectValue(newValue)\r\n        triggerChange(newValue)\r\n    }\r\n    const triggerChange = (changedValue) => {\r\n        if (onChange) {\r\n            onChange(changedValue);\r\n            // onChange({\r\n            //     [name]: Number(changedValue)\r\n            // });\r\n        }\r\n    };\r\n    return (\r\n        <Select value={selectValue} onChange={onSelectChange} style={data.style} placeholder={data.Select}>\r\n            {\r\n                selectData && selectData.map(elem => {\r\n                    return <Option value={data.propsKey && elem[data.propsKey.value]} key={data.propsKey && elem[data.propsKey.value]}>{data.propsKey && elem[data.propsKey.label]}</Option>\r\n                })\r\n            }\r\n\r\n        </Select>\r\n    )\r\n}\r\n\r\nexport default GetRemoteSelect\r\n","D:\\mycode\\react\\react-hooks-admin\\src\\compoents\\richText\\index.js",["253","254","255"],"import {useEffect, useState} from 'react'\r\nimport {Editor} from '@tinymce/tinymce-react'\r\nimport {Upload} from 'api/common'\r\n\r\nconst RichText = props => {\r\n    const {data, url, onChange, name, initValue} = props\r\n    const [richValue, setrichValue] = useState(\"\")\r\n    useEffect(() => {\r\n        const data=initValue[name]\r\n        data?setrichValue(data):setrichValue('')\r\n        // let data = initValue[name]\r\n        // if (data) {\r\n        //     setrichValue(data)\r\n        // }\r\n        console.log(initValue)\r\n    }, [initValue])\r\n    const triggerChange = (changedValue) => {\r\n        if (onChange) {\r\n            onChange(changedValue)\r\n            // onChange({\r\n            //     [names]: changedValue\r\n            // });\r\n        }\r\n    };\r\n    const editorObj = {\r\n        height: '800px',\r\n        language: 'zh_CN',\r\n        plugins: 'table lists link image preview code',\r\n        toolbar: `formatselect | code | preview | bold italic strikethrough forecolor backcolor | \r\n            link image | alignleft aligncenter alignright alignjustify  | \r\n            numlist bullist outdent indent`,\r\n        relative_urls: false,\r\n        file_picker_types: 'image',\r\n        images_upload_url: 'http',\r\n        image_advtab: true,\r\n        image_uploadtab: true,\r\n        images_upload_handler: (blobInfo, success, failure) => {\r\n            var formData;\r\n            var file = blobInfo.blob();//转化为易于理解的file对象\r\n            formData = new FormData();\r\n            formData.append('file', file, file.name);//此处与源文档不一样\r\n            Upload(formData).then(response => {\r\n                console.log(response.data.data)\r\n                const data = response.data.data.url;\r\n                success(data);\r\n            }).catch(err => {\r\n                const data = err.data\r\n                failure(data.message)\r\n            })\r\n        }\r\n    }\r\n    const handleEditorChange = (value) => {\r\n        triggerChange(value)\r\n        console.log(value)\r\n    }\r\n    return (\r\n        <Editor\r\n            inline={false}\r\n            selector='editorStateRef'  // 选择器\r\n            apiKey='官网上申请的key值'\r\n            initialValue={richValue}\r\n            init={{...editorObj}}\r\n            onEditorChange={handleEditorChange}\r\n        />\r\n\r\n    )\r\n}\r\n\r\nexport default RichText\r\n","D:\\mycode\\react\\react-hooks-admin\\src\\compoents\\Upload\\index.js",["256","257","258","259","260","261"],"import {useEffect, useState} from 'react'\r\nimport {Upload, message} from 'antd';\r\nimport {LoadingOutlined, PlusOutlined} from '@ant-design/icons';\r\n// import requestUrl from 'utils/requestUrl'\r\nimport {uploadFile} from 'api/common'\r\nconst UploadCom = props => {\r\n    const {data, url, onChange, name, initValue} = props\r\n    const [loading, setloading] = useState(false)\r\n    const [imageUrl, setimageUrl] = useState('')\r\n    const [names, setnames] = useState(name)\r\n    const [fileToken,setfileToken]=useState(\"\")\r\n    const [fileKey,setfileKey]=useState(\"\")\r\n    useEffect(() => {\r\n        const data=initValue[name]\r\n        data?setimageUrl(data):setimageUrl('')\r\n        // if(initValue){\r\n        //     setimageUrl()\r\n        // }\r\n// console.log(initValue,name)\r\n    }, [initValue])\r\n    useEffect(() => {\r\n        return ()=>{\r\n            localStorage.removeItem('setFileToken')\r\n        }\r\n    }, [])\r\n    // const getBase64 = (img, callback) => {\r\n    //     const reader = new FileReader();\r\n    //     reader.addEventListener('load', () => callback(reader.result));\r\n    //     reader.readAsDataURL(img);\r\n    // }\r\n    const getImgToken=async()=>{\r\n        const Tokens=localStorage.getItem('setFileToken')\r\n        if(Tokens){\r\n            setfileToken(Tokens)\r\n            return  false\r\n        }\r\n        const res=await uploadFile({\r\n            ak:'M7OJ0d13ozojgG0tvDJkOzLWwrBIsnC63YKu-B8u',\r\n            sk:'6CT7BlaTuy7KovJ2ck6GrGKTa9Xi7ZYHqROK-EDe',\r\n            buckety:'litingchen-react',\r\n        })\r\n        if(res.data.resCode===0){\r\n            localStorage.setItem('setFileToken',res.data.data.token)\r\n            setfileToken(res.data.data.token)\r\n        }else{\r\n            message.error('获取七牛云token参数错误')\r\n        }\r\n\r\n    }\r\n    //图片上传之前\r\n    const beforeUpload = async (file) => {\r\n        const token=await getImgToken()\r\n        const isJpgOrPng = file.type === 'image/jpeg' || file.type === 'image/png';\r\n        if (!isJpgOrPng) {\r\n            message.error('You can only upload JPG/PNG file!');\r\n        }\r\n        const isLt2M = file.size / 1024 / 1024 < 2;\r\n        if (!isLt2M) {\r\n            message.error('Image must smaller than 2MB!');\r\n        }\r\n        //解析文件\r\n        const name=file.name;\r\n        const key=encodeURI(`${name}`)\r\n        //更新文件的key\r\n        setfileKey(key)\r\n        return isJpgOrPng && isLt2M;\r\n    }\r\n    //图片上传成功\r\n    const handleChange = info => {\r\n        if (info.file.status === 'uploading') {\r\n            setloading(true)\r\n            return;\r\n        }\r\n        if (info.file.status === 'done') {\r\n            // Get this url from response in real world.\r\n            console.log(info)\r\n            const fileInfo=info.file.response;\r\n            const fileName=`http://qs2p1bv2z.hn-bkt.clouddn.com/${fileInfo.key}`\r\n                Promise.all([setloading(true), setimageUrl(fileName)]).then(res => {\r\n                    triggerChange(fileName)\r\n                })\r\n        }\r\n    };\r\n    // const onSelectChange = (newValue) => {\r\n    //\r\n    //     triggerChange(newValue)\r\n    // }\r\n    const triggerChange = (changedValue) => {\r\n        if (onChange) {\r\n            onChange(changedValue)\r\n            // onChange({\r\n            //     [names]: changedValue\r\n            // });\r\n        }\r\n    };\r\n    const uploadButton = (\r\n        <div>\r\n            {loading ? <LoadingOutlined/> : <PlusOutlined/>}\r\n            <div style={{marginTop: 8}}>上传图片</div>\r\n        </div>\r\n    );\r\n    const fileData={token:fileToken,key:fileKey}\r\n    return (\r\n\r\n        <Upload\r\n            name=\"file\"\r\n            listType=\"picture-card\"\r\n            className=\"avatar-uploader\"\r\n            showUploadList={false}\r\n            data={fileData}\r\n            action=\"http://up-z2.qiniup.com\"\r\n            beforeUpload={beforeUpload}\r\n            onChange={handleChange}\r\n        >\r\n            {imageUrl ? <img src={imageUrl} alt=\"avatar\" style={{width: '100%'}}/> : uploadButton}\r\n        </Upload>\r\n    )\r\n}\r\n\r\nexport default UploadCom\r\n","D:\\mycode\\react\\react-hooks-admin\\src\\api\\common.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\utils\\data.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\api\\user.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\api\\permissions.js",[],{"ruleId":"262","replacedBy":"263"},{"ruleId":"264","replacedBy":"265"},{"ruleId":"266","severity":1,"message":"267","line":5,"column":10,"nodeType":"268","messageId":"269","endLine":5,"endColumn":15},{"ruleId":"266","severity":1,"message":"270","line":7,"column":8,"nodeType":"268","messageId":"269","endLine":7,"endColumn":16},{"ruleId":"266","severity":1,"message":"271","line":15,"column":11,"nodeType":"268","messageId":"269","endLine":15,"endColumn":18},{"ruleId":"272","severity":1,"message":"273","line":2,"column":42,"nodeType":"274","messageId":"275","endLine":2,"endColumn":43,"suggestions":"276"},{"ruleId":"277","severity":1,"message":"278","line":29,"column":41,"nodeType":"279","messageId":"280","endLine":29,"endColumn":43},{"ruleId":"277","severity":1,"message":"278","line":32,"column":61,"nodeType":"279","messageId":"280","endLine":32,"endColumn":63},{"ruleId":"266","severity":1,"message":"281","line":1,"column":18,"nodeType":"268","messageId":"269","endLine":1,"endColumn":21},{"ruleId":"266","severity":1,"message":"282","line":1,"column":23,"nodeType":"268","messageId":"269","endLine":1,"endColumn":26},{"ruleId":"266","severity":1,"message":"283","line":1,"column":28,"nodeType":"268","messageId":"269","endLine":1,"endColumn":33},{"ruleId":"266","severity":1,"message":"284","line":1,"column":35,"nodeType":"268","messageId":"269","endLine":1,"endColumn":45},{"ruleId":"266","severity":1,"message":"285","line":316,"column":11,"nodeType":"268","messageId":"269","endLine":316,"endColumn":19},{"ruleId":"286","severity":1,"message":"287","line":24,"column":8,"nodeType":"288","endLine":24,"endColumn":18,"suggestions":"289"},{"ruleId":"286","severity":1,"message":"290","line":30,"column":8,"nodeType":"288","endLine":30,"endColumn":20,"suggestions":"291"},{"ruleId":"277","severity":1,"message":"292","line":135,"column":27,"nodeType":"279","messageId":"293","endLine":135,"endColumn":29},{"ruleId":"286","severity":1,"message":"294","line":22,"column":8,"nodeType":"288","endLine":22,"endColumn":23,"suggestions":"295"},{"ruleId":"266","severity":1,"message":"296","line":213,"column":15,"nodeType":"268","messageId":"269","endLine":213,"endColumn":20},{"ruleId":"297","severity":1,"message":"298","line":241,"column":17,"nodeType":"299","messageId":"300","endLine":241,"endColumn":23},{"ruleId":"297","severity":1,"message":"298","line":244,"column":17,"nodeType":"299","messageId":"300","endLine":244,"endColumn":23},{"ruleId":"297","severity":1,"message":"298","line":247,"column":17,"nodeType":"299","messageId":"300","endLine":247,"endColumn":23},{"ruleId":"297","severity":1,"message":"298","line":250,"column":17,"nodeType":"299","messageId":"300","endLine":250,"endColumn":23},{"ruleId":"297","severity":1,"message":"298","line":253,"column":17,"nodeType":"299","messageId":"300","endLine":253,"endColumn":23},{"ruleId":"297","severity":1,"message":"298","line":256,"column":17,"nodeType":"299","messageId":"300","endLine":256,"endColumn":23},{"ruleId":"297","severity":1,"message":"298","line":259,"column":17,"nodeType":"299","messageId":"300","endLine":259,"endColumn":23},{"ruleId":"297","severity":1,"message":"298","line":262,"column":17,"nodeType":"299","messageId":"300","endLine":262,"endColumn":23},{"ruleId":"297","severity":1,"message":"298","line":265,"column":17,"nodeType":"299","messageId":"300","endLine":265,"endColumn":23},{"ruleId":"297","severity":1,"message":"298","line":268,"column":17,"nodeType":"299","messageId":"300","endLine":268,"endColumn":23},{"ruleId":"297","severity":1,"message":"298","line":271,"column":17,"nodeType":"299","messageId":"300","endLine":271,"endColumn":23},{"ruleId":"297","severity":1,"message":"298","line":274,"column":17,"nodeType":"299","messageId":"300","endLine":274,"endColumn":22},{"ruleId":"266","severity":1,"message":"301","line":7,"column":34,"nodeType":"268","messageId":"269","endLine":7,"endColumn":38},{"ruleId":"286","severity":1,"message":"302","line":16,"column":8,"nodeType":"288","endLine":16,"endColumn":13,"suggestions":"303"},{"ruleId":"266","severity":1,"message":"304","line":6,"column":12,"nodeType":"268","messageId":"269","endLine":6,"endColumn":16},{"ruleId":"266","severity":1,"message":"305","line":6,"column":18,"nodeType":"268","messageId":"269","endLine":6,"endColumn":21},{"ruleId":"286","severity":1,"message":"306","line":16,"column":8,"nodeType":"288","endLine":16,"endColumn":19,"suggestions":"307"},{"ruleId":"266","severity":1,"message":"304","line":7,"column":12,"nodeType":"268","messageId":"269","endLine":7,"endColumn":16},{"ruleId":"266","severity":1,"message":"305","line":7,"column":18,"nodeType":"268","messageId":"269","endLine":7,"endColumn":21},{"ruleId":"266","severity":1,"message":"308","line":10,"column":12,"nodeType":"268","messageId":"269","endLine":10,"endColumn":17},{"ruleId":"266","severity":1,"message":"309","line":10,"column":19,"nodeType":"268","messageId":"269","endLine":10,"endColumn":27},{"ruleId":"286","severity":1,"message":"306","line":20,"column":8,"nodeType":"288","endLine":20,"endColumn":19,"suggestions":"310"},{"ruleId":"266","severity":1,"message":"311","line":52,"column":15,"nodeType":"268","messageId":"269","endLine":52,"endColumn":20},"no-native-reassign",["312"],"no-negated-in-lhs",["313"],"no-unused-vars","'Login' is defined but never used.","Identifier","unusedVar","'CryptoJs' is defined but never used.","'history' is assigned a value but never used.","no-useless-escape","Unnecessary escape character: \\-.","Literal","unnecessaryEscape",["314","315"],"array-callback-return","Array.prototype.filter() expects a value to be returned at the end of arrow function.","ArrowFunctionExpression","expectedAtEnd","'Row' is defined but never used.","'Col' is defined but never used.","'Radio' is defined but never used.","'DatePicker' is defined but never used.","'onChange' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'prepageSize'. Either include it or remove the dependency array.","ArrayExpression",["316"],"React Hook useEffect has missing dependencies: 'getData' and 'props.actions'. Either include them or remove the dependency array.",["317"],"Array.prototype.map() expects a return value from arrow function.","expectedInside","React Hook useEffect has a missing dependency: 'resetFrom'. Either include it or remove the dependency array.",["318"],"'rules' is assigned a value but never used.","no-unreachable","Unreachable code.","BreakStatement","unreachableCode","'name' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'getList'. Either include it or remove the dependency array.",["319"],"'data' is assigned a value but never used.","'url' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'name'. Either include it or remove the dependency array.",["320"],"'names' is assigned a value but never used.","'setnames' is assigned a value but never used.",["321"],"'token' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"messageId":"322","fix":"323","desc":"324"},{"messageId":"325","fix":"326","desc":"327"},{"desc":"328","fix":"329"},{"desc":"330","fix":"331"},{"desc":"332","fix":"333"},{"desc":"334","fix":"335"},{"desc":"336","fix":"337"},{"desc":"336","fix":"338"},"removeEscape",{"range":"339","text":"340"},"Remove the `\\`. This maintains the current functionality.","escapeBackslash",{"range":"341","text":"342"},"Replace the `\\` with `\\\\` to include the actual backslash character.","Update the dependencies array to be: [pageSize, prepageSize]",{"range":"343","text":"344"},"Update the dependencies array to be: [getData, pageNumber, props.actions]",{"range":"345","text":"346"},"Update the dependencies array to be: [buttonloading, resetFrom]",{"range":"347","text":"348"},"Update the dependencies array to be: [getList, url]",{"range":"349","text":"350"},"Update the dependencies array to be: [initValue, name]",{"range":"351","text":"352"},{"range":"353","text":"352"},[122,123],"",[122,122],"\\",[1113,1123],"[pageSize, prepageSize]",[1269,1281],"[getData, pageNumber, props.actions]",[924,939],"[buttonloading, resetFrom]",[534,539],"[getList, url]",[526,537],"[initValue, name]",[779,790]]