[{"D:\\mycode\\react\\react-hooks-admin\\src\\index.js":"1","D:\\mycode\\react\\react-hooks-admin\\src\\App.js":"2","D:\\mycode\\react\\react-hooks-admin\\src\\compoents\\privateRouter\\index.js":"3","D:\\mycode\\react\\react-hooks-admin\\src\\views\\Login\\index.js":"4","D:\\mycode\\react\\react-hooks-admin\\src\\views\\Index\\index.js":"5","D:\\mycode\\react\\react-hooks-admin\\src\\utils\\cookies.js":"6","D:\\mycode\\react\\react-hooks-admin\\src\\stroe\\index.js":"7","D:\\mycode\\react\\react-hooks-admin\\src\\views\\Login\\LoginFrom.js":"8","D:\\mycode\\react\\react-hooks-admin\\src\\views\\Login\\RegisterFrom.js":"9","D:\\mycode\\react\\react-hooks-admin\\src\\views\\Index\\components\\header.js":"10","D:\\mycode\\react\\react-hooks-admin\\src\\views\\Index\\components\\aside.js":"11","D:\\mycode\\react\\react-hooks-admin\\src\\stroe\\reducer\\job.js":"12","D:\\mycode\\react\\react-hooks-admin\\src\\stroe\\reducer\\department.js":"13","D:\\mycode\\react\\react-hooks-admin\\src\\stroe\\reducer\\config.js":"14","D:\\mycode\\react\\react-hooks-admin\\src\\stroe\\reducer\\user.js":"15","D:\\mycode\\react\\react-hooks-admin\\src\\utils\\validate.js":"16","D:\\mycode\\react\\react-hooks-admin\\src\\compoents\\containerMain\\index.js":"17","D:\\mycode\\react\\react-hooks-admin\\src\\api\\account.js":"18","D:\\mycode\\react\\react-hooks-admin\\src\\stroe\\type.js":"19","D:\\mycode\\react\\react-hooks-admin\\src\\compoents\\code\\index.js":"20","D:\\mycode\\react\\react-hooks-admin\\src\\stroe\\action\\user.js":"21","D:\\mycode\\react\\react-hooks-admin\\src\\compoents\\containerMain\\components.js":"22","D:\\mycode\\react\\react-hooks-admin\\src\\utils\\request.js":"23","D:\\mycode\\react\\react-hooks-admin\\src\\compoents\\asideMenu\\index.js":"24","D:\\mycode\\react\\react-hooks-admin\\src\\views\\department\\add.js":"25","D:\\mycode\\react\\react-hooks-admin\\src\\views\\department\\list.js":"26","D:\\mycode\\react\\react-hooks-admin\\src\\views\\job\\add.js":"27","D:\\mycode\\react\\react-hooks-admin\\src\\views\\job\\list.js":"28","D:\\mycode\\react\\react-hooks-admin\\src\\views\\staff\\Add.js":"29","D:\\mycode\\react\\react-hooks-admin\\src\\views\\staff\\list.js":"30","D:\\mycode\\react\\react-hooks-admin\\src\\views\\user\\list.js":"31","D:\\mycode\\react\\react-hooks-admin\\src\\views\\user\\Add.js":"32","D:\\mycode\\react\\react-hooks-admin\\src\\views\\user\\compoents\\Modal.js":"33","D:\\mycode\\react\\react-hooks-admin\\src\\api\\department.js":"34","D:\\mycode\\react\\react-hooks-admin\\src\\api\\user.js":"35","D:\\mycode\\react\\react-hooks-admin\\src\\router\\index.js":"36","D:\\mycode\\react\\react-hooks-admin\\src\\stroe\\action\\config.js":"37","D:\\mycode\\react\\react-hooks-admin\\src\\api\\job.js":"38","D:\\mycode\\react\\react-hooks-admin\\src\\api\\permissions.js":"39","D:\\mycode\\react\\react-hooks-admin\\src\\compoents\\table\\index.js":"40","D:\\mycode\\react\\react-hooks-admin\\src\\compoents\\Checkbox\\index.js":"41","D:\\mycode\\react\\react-hooks-admin\\src\\compoents\\Form\\index.js":"42","D:\\mycode\\react\\react-hooks-admin\\src\\compoents\\FromSearch\\index.js":"43","D:\\mycode\\react\\react-hooks-admin\\src\\stroe\\action\\department.js":"44","D:\\mycode\\react\\react-hooks-admin\\src\\utils\\fromTable.js":"45","D:\\mycode\\react\\react-hooks-admin\\src\\compoents\\Select\\index.js":"46","D:\\mycode\\react\\react-hooks-admin\\src\\compoents\\richText\\index.js":"47","D:\\mycode\\react\\react-hooks-admin\\src\\compoents\\Upload\\index.js":"48","D:\\mycode\\react\\react-hooks-admin\\src\\api\\table.js":"49","D:\\mycode\\react\\react-hooks-admin\\src\\utils\\requestUrl.js":"50","D:\\mycode\\react\\react-hooks-admin\\src\\api\\common.js":"51","D:\\mycode\\react\\react-hooks-admin\\src\\api\\staff.js":"52","D:\\mycode\\react\\react-hooks-admin\\src\\utils\\data.js":"53"},{"size":451,"mtime":1612769369978,"results":"54","hashOfConfig":"55"},{"size":751,"mtime":1612769369930,"results":"56","hashOfConfig":"55"},{"size":367,"mtime":1612769369956,"results":"57","hashOfConfig":"55"},{"size":512,"mtime":1612769370179,"results":"58","hashOfConfig":"55"},{"size":1230,"mtime":1612769370175,"results":"59","hashOfConfig":"55"},{"size":662,"mtime":1619603402481,"results":"60","hashOfConfig":"55"},{"size":692,"mtime":1619690938643,"results":"61","hashOfConfig":"55"},{"size":5150,"mtime":1619753713298,"results":"62","hashOfConfig":"55"},{"size":6964,"mtime":1612769370178,"results":"63","hashOfConfig":"55"},{"size":1340,"mtime":1620357554881,"results":"64","hashOfConfig":"55"},{"size":240,"mtime":1612769370173,"results":"65","hashOfConfig":"55"},{"size":114,"mtime":1612769370158,"results":"66","hashOfConfig":"55"},{"size":486,"mtime":1612769370157,"results":"67","hashOfConfig":"55"},{"size":513,"mtime":1612769370156,"results":"68","hashOfConfig":"55"},{"size":1235,"mtime":1620266828065,"results":"69","hashOfConfig":"55"},{"size":453,"mtime":1619495622856,"results":"70","hashOfConfig":"55"},{"size":479,"mtime":1612769369943,"results":"71","hashOfConfig":"55"},{"size":1153,"mtime":1612769369932,"results":"72","hashOfConfig":"55"},{"size":317,"mtime":1620266828078,"results":"73","hashOfConfig":"55"},{"size":1709,"mtime":1612769369941,"results":"74","hashOfConfig":"55"},{"size":4181,"mtime":1620358182196,"results":"75","hashOfConfig":"55"},{"size":589,"mtime":1612769369942,"results":"76","hashOfConfig":"55"},{"size":1079,"mtime":1612769370167,"results":"77","hashOfConfig":"55"},{"size":2749,"mtime":1619753148225,"results":"78","hashOfConfig":"55"},{"size":3227,"mtime":1612769370181,"results":"79","hashOfConfig":"55"},{"size":2916,"mtime":1619573252223,"results":"80","hashOfConfig":"55"},{"size":4589,"mtime":1612783625012,"results":"81","hashOfConfig":"55"},{"size":3053,"mtime":1612769370185,"results":"82","hashOfConfig":"55"},{"size":10727,"mtime":1619764783261,"results":"83","hashOfConfig":"55"},{"size":3346,"mtime":1619431408148,"results":"84","hashOfConfig":"55"},{"size":3846,"mtime":1619595839706,"results":"85","hashOfConfig":"55"},{"size":344,"mtime":1612769370186,"results":"86","hashOfConfig":"55"},{"size":10847,"mtime":1620355701392,"results":"87","hashOfConfig":"55"},{"size":1148,"mtime":1612769369933,"results":"88","hashOfConfig":"55"},{"size":892,"mtime":1619752701880,"results":"89","hashOfConfig":"55"},{"size":1619,"mtime":1619770808994,"results":"90","hashOfConfig":"55"},{"size":278,"mtime":1612769370153,"results":"91","hashOfConfig":"55"},{"size":711,"mtime":1612769369934,"results":"92","hashOfConfig":"55"},{"size":208,"mtime":1619659364707,"results":"93","hashOfConfig":"55"},{"size":5536,"mtime":1619596774626,"results":"94","hashOfConfig":"55"},{"size":3645,"mtime":1620356450518,"results":"95","hashOfConfig":"55"},{"size":10323,"mtime":1619769768172,"results":"96","hashOfConfig":"55"},{"size":6921,"mtime":1619489244395,"results":"97","hashOfConfig":"55"},{"size":155,"mtime":1612769370154,"results":"98","hashOfConfig":"55"},{"size":526,"mtime":1612769370166,"results":"99","hashOfConfig":"55"},{"size":1893,"mtime":1619341855363,"results":"100","hashOfConfig":"55"},{"size":2342,"mtime":1619489244395,"results":"101","hashOfConfig":"55"},{"size":4077,"mtime":1619489244395,"results":"102","hashOfConfig":"55"},{"size":428,"mtime":1612769369934,"results":"103","hashOfConfig":"55"},{"size":500,"mtime":1619516918211,"results":"104","hashOfConfig":"55"},{"size":394,"mtime":1619334545922,"results":"105","hashOfConfig":"55"},{"size":730,"mtime":1619494375961,"results":"106","hashOfConfig":"55"},{"size":3917,"mtime":1619146097987,"results":"107","hashOfConfig":"55"},{"filePath":"108","messages":"109","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1gxsebh",{"filePath":"110","messages":"111","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"112","messages":"113","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"114","messages":"115","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"116","messages":"117","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"118","messages":"119","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"120","messages":"121","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"122","messages":"123","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"124","messages":"125","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"126","messages":"127","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"128","messages":"129","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"130","messages":"131","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"132","messages":"133","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"134","messages":"135","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"136","messages":"137","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"138","messages":"139","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"140","messages":"141","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"142","messages":"143","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"144","messages":"145","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"146","messages":"147","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"148","messages":"149","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"150","messages":"151","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"152","messages":"153","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"154","messages":"155","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"156","messages":"157","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"158","messages":"159","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"160","messages":"161","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"162","messages":"163","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"164","messages":"165","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"166","messages":"167","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"168","messages":"169","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"170","messages":"171","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"172","messages":"173","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"174","usedDeprecatedRules":"175"},{"filePath":"176","messages":"177","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"178","messages":"179","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"180","messages":"181","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"175"},{"filePath":"182","messages":"183","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"184","messages":"185","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"186","messages":"187","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"188","messages":"189","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"190","messages":"191","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"192","messages":"193","errorCount":0,"warningCount":14,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"194","messages":"195","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"196","messages":"197","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"198","messages":"199","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"200","messages":"201","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"202","messages":"203","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"204","messages":"205","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"206","messages":"207","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"208","messages":"209","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"210","messages":"211","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"212","messages":"213","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"214","messages":"215","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"D:\\mycode\\react\\react-hooks-admin\\src\\index.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\App.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\compoents\\privateRouter\\index.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\views\\Login\\index.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\views\\Index\\index.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\utils\\cookies.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\stroe\\index.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\views\\Login\\LoginFrom.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\views\\Login\\RegisterFrom.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\views\\Index\\components\\header.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\views\\Index\\components\\aside.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\stroe\\reducer\\job.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\stroe\\reducer\\department.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\stroe\\reducer\\config.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\stroe\\reducer\\user.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\utils\\validate.js",["216"],"D:\\mycode\\react\\react-hooks-admin\\src\\compoents\\containerMain\\index.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\api\\account.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\stroe\\type.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\compoents\\code\\index.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\stroe\\action\\user.js",["217","218"],"D:\\mycode\\react\\react-hooks-admin\\src\\compoents\\containerMain\\components.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\utils\\request.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\compoents\\asideMenu\\index.js",["219"],"D:\\mycode\\react\\react-hooks-admin\\src\\views\\department\\add.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\views\\department\\list.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\views\\job\\add.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\views\\job\\list.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\views\\staff\\Add.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\views\\staff\\list.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\views\\user\\list.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\views\\user\\Add.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\views\\user\\compoents\\Modal.js",["220","221"],"import { useState, useImperativeHandle, useRef, useEffect } from \"react\";\r\nimport { Modal, message, Checkbox } from \"antd\";\r\nimport FromCommon from \"compoents/Form\";\r\nimport CheckboxCom from 'compoents/Checkbox'\r\nimport { connect } from 'react-redux'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { validate_phone, validate_password } from \"utils/validate\";\r\nimport { userAdd, userDetailed, userEdit } from \"api/user\";\r\nimport CryptoJs from \"crypto-js\";\r\nimport { getRole } from 'api/permissions'\r\nlet formItem = [\r\n    {\r\n        type: \"Input\",\r\n        label: \"用户名\",\r\n        required: true,\r\n        name: \"username\",\r\n        Select: \"请输入姓名\"\r\n    },\r\n    {\r\n        type: \"Input\",\r\n        label: \"密码\",\r\n        required: true,\r\n        shouldUpdate: true,\r\n        inputType: \"password\",\r\n        name: \"password\",\r\n        validateTrigger: \"onBlur\",\r\n        blurEvent: true,\r\n        Select: \"请输入密码\",\r\n        rules: []\r\n    },\r\n    {\r\n        type: \"Input\",\r\n        label: \"确认密码\",\r\n        required: true,\r\n        shouldUpdate: true,\r\n        inputType: \"password\",\r\n        name: \"confirmPassword\",\r\n        validateTrigger: \"onBlur\",\r\n        blurEvent: true,\r\n        Select: \"请输入确认密码\",\r\n        rules: []\r\n    },\r\n    {\r\n        type: \"Input\",\r\n        label: \"真实姓名\",\r\n        required: true,\r\n        name: \"truename\",\r\n        Select: \"请输入真实姓名\",\r\n        rules: []\r\n    },\r\n    {\r\n        type: \"Input\",\r\n        label: \"手机\",\r\n        required: true,\r\n        name: \"phone\",\r\n        Select: \"请输入手机号码\",\r\n        rules: [\r\n            () => ({\r\n                validator(_, value) {\r\n                    if (validate_phone(value)) {\r\n                        return Promise.resolve();\r\n                    }\r\n                    return Promise.reject(\"手机格式不正确，请输入正确的手机号码!\");\r\n                }\r\n            })\r\n        ]\r\n    },\r\n    {\r\n        type: \"Radio\",\r\n        label: \"禁启用状态\",\r\n        name: \"status\",\r\n        required: true,\r\n        rules: [],\r\n        options: [\r\n            { value: true, label: \"启用\" },\r\n            { value: false, label: \"禁用\" }\r\n        ]\r\n    },\r\n    {\r\n        type: \"Solt\",\r\n        label: \"权限\",\r\n        name: \"role\",\r\n        soltName: 'authority',\r\n        rules: [\r\n            { message: '请选择权限', required: true }\r\n        ]\r\n    },\r\n    {\r\n        type: \"Solt\",\r\n        label: \"菜单权限\",\r\n        name: \"menuRole\",\r\n        soltName: 'menuAuthority',\r\n        rules: [\r\n            { message: '请选择菜单权限', required: false }\r\n        ]\r\n    }\r\n];\r\nconst ModalComm = props => {\r\n    const { refreshTable } = props;\r\n    const [isModalVisible, setisModalVisible] = useState(false);\r\n    const [buttonloading, setbuttonloading] = useState(false);\r\n    const [FieldsValue, setFieldsValue] = useState({});\r\n    const [formData, setformData] = useState(formItem);\r\n    const [userId, setuserId] = useState()\r\n    const [optionsWithDisabled, setoptionsWithDisabled] = useState([])\r\n    const [selectedRole, setselectedRole] = useState()\r\n    const [roleMenu, setroleMenu] = useState([])\r\n    const [menuRoleList, setmenuRoleList] = useState([\r\n        {\r\n            label: '用户管理',\r\n            value: '/user',\r\n            defaultValue:[],\r\n            child_item: [\r\n                {\r\n                    label: '用户列表',\r\n                    value: '/user/list',\r\n                },\r\n                {\r\n                    label: '添加用户',\r\n                    value: '/user/add',\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            label: '部门管理',\r\n            value: '/department',\r\n            defaultValue:[],\r\n            child_item: [\r\n                {\r\n                    label: '部门列表',\r\n                    value: '/department/list',\r\n                },\r\n                {\r\n                    label: '添加部门',\r\n                    value: '/department/add',\r\n                }\r\n            ]\r\n        }\r\n    ])\r\n    const From = useRef();\r\n    const handleCancel = () => {\r\n        setisModalVisible(false);\r\n        setselectedRole([])\r\n        setroleMenu([])\r\n        From.current.Rreset();\r\n    };\r\n    const open = value => {\r\n        setisModalVisible(value);\r\n    };\r\n    const passwordValidate = ({ getFieldValue }) => ({\r\n        validator(_, value) {\r\n            let confirmPasswords = getFieldValue(\"confirmPassword\");\r\n            if (value) {\r\n                if (confirmPasswords && confirmPasswords !== value) {\r\n                    return Promise.reject(\"二次输入密码不一致\");\r\n                }\r\n\r\n                if (validate_password(value)) {\r\n                    return Promise.resolve();\r\n                } else {\r\n                    return Promise.reject(\"请输入6到20位字母+数字的密码!\");\r\n                }\r\n            } else {\r\n                return Promise.reject(\"密码不能为空!\");\r\n            }\r\n        }\r\n    });\r\n    const passwordsValidate = ({ getFieldValue }) => ({\r\n        validator(_, value) {\r\n            let confirmPasswords = getFieldValue(\"password\");\r\n            if (value) {\r\n                if (confirmPasswords && confirmPasswords !== value) {\r\n                    return Promise.reject(\"二次输入密码不一致\");\r\n                }\r\n                return Promise.resolve(\"\");\r\n            } else {\r\n                return Promise.reject(\"确认密码不能为空!\");\r\n            }\r\n        }\r\n    });\r\n    //获取表单详情数据\r\n    const getUserDetailed = async data => {\r\n        const id = data.id;\r\n        setFrom([1, 2], {\r\n            1: {\r\n                required: id ? false : true,\r\n                rules: id ? \"\" : [passwordValidate]\r\n            },\r\n            2: {\r\n                required: id ? false : true,\r\n                rules: id ? \"\" : [passwordsValidate]\r\n            }\r\n        });\r\n        if (!id) return;\r\n        let res = await userDetailed({ id });\r\n        let dataItem = res.data.data\r\n        dataItem.role = dataItem.role.split(',')\r\n        setselectedRole(dataItem.role)\r\n        setroleMenu(dataItem.role_menu.split(','))\r\n        setFieldsValue(dataItem);\r\n    };\r\n    //获取权限列表\r\n    const getRoleData = async () => {\r\n        let res = await getRole()\r\n        setoptionsWithDisabled(res.data.data)\r\n    }\r\n    //选中d的权限\r\n    const onChange = (value) => {\r\n        setselectedRole(value)\r\n        console.log(value)\r\n    }\r\n    //父组件调用\r\n    useImperativeHandle(props.cref, () => ({\r\n        openModal: data => {\r\n            open(data.status);\r\n            getUserDetailed(data);\r\n            getRoleData()\r\n            const { id } = data\r\n            id && setuserId(id)\r\n\r\n        }\r\n    }));\r\n    //获取选中的菜单权限\r\n    const getPermissionsList = () => {\r\n        const menuData = props.PermissionsList\r\n        let arr = []\r\n        for (let key in menuData) {\r\n            console.log(menuData[key])\r\n            arr = [...arr, ...menuData[key]]\r\n        }\r\n\r\n        return arr\r\n    }\r\n    //表单提交(添加)\r\n    const onFinish = async value => {\r\n        const data = value;\r\n        data.password = CryptoJs.MD5(data.password).toString();\r\n        data.role = selectedRole.join(',')\r\n        data.role_menu = getPermissionsList().join(',')\r\n        delete data.confirmPassword;\r\n        const res = await userAdd(data);\r\n        message.success(res.data.message);\r\n        setbuttonloading(true);\r\n        setisModalVisible(false);\r\n        refreshTable();\r\n    };\r\n    //表单提交(编辑)\r\n    const onFinishEdit = async value => {\r\n        const data = value;\r\n        data.password = CryptoJs.MD5(data.password).toString();\r\n        data.role = selectedRole.join(',')\r\n        data.role_menu = getPermissionsList().join(',')\r\n        delete data.confirmPassword;\r\n        data.id = userId\r\n        const res = await userEdit(data);\r\n        message.success(res.data.message);\r\n        setbuttonloading(true);\r\n        setisModalVisible(false);\r\n        refreshTable();\r\n    };\r\n    const formItemLayout = {\r\n        labelCol: { span: 5 },\r\n        wrapperCol: { span: 19 }\r\n    };\r\n    const fromKey = \"parentId\";\r\n\r\n    const setFrom = (index, key) => {\r\n        formItem = formItem.map((item, idx) =>\r\n            index.includes(idx) ? { ...item, ...key[idx] } : item\r\n        );\r\n        setformData(formItem);\r\n    };\r\n    //\r\n    const FormBlur = data => {\r\n        console.log(data.id)\r\n        const { value, id } = data;\r\n        if (value) {\r\n            if (id === 'password') {\r\n                setFrom([1], {\r\n                    1: {\r\n                        required: !value ? false : true,\r\n                        rules: value ? [passwordValidate] : \"\"\r\n                    }\r\n\r\n                });\r\n            }\r\n            if (id === 'confirmPassword') {\r\n                setFrom([2], {\r\n                    2: {\r\n                        required: !value ? false : true,\r\n                        rules: value ? [passwordsValidate] : \"\"\r\n                    }\r\n                });\r\n            }\r\n\r\n        }\r\n        console.log(data.value);\r\n    };\r\n    //表单的初始化值\r\n    const initialValues = {\r\n        // radio: false, textArea: '', number: 0, name: ''\r\n    };\r\n    return (\r\n        <Modal\r\n            title=\"用户新增/修改\"\r\n            visible={isModalVisible}\r\n            onCancel={handleCancel}\r\n            footer={null}\r\n        >\r\n            <FromCommon\r\n                fromKey={fromKey}\r\n                formItem={formData}\r\n                formItemLayout={formItemLayout}\r\n                initialValues={initialValues}\r\n                FieldsValue={FieldsValue}\r\n                onFinish={userId ? onFinishEdit : onFinish}\r\n                buttonloading={buttonloading}\r\n                cref={From}\r\n                onBlur={FormBlur}\r\n            >\r\n                <div ref=\"authority\">\r\n                    <Checkbox.Group\r\n                        options={optionsWithDisabled}\r\n                        onChange={onChange}\r\n                        value={selectedRole}\r\n                    />\r\n                </div>\r\n                <div ref=\"menuAuthority\">\r\n                    {\r\n                        menuRoleList.map(item => {\r\n                            return <CheckboxCom data={item} key={item.value} roleMenu={roleMenu}></CheckboxCom>\r\n                        })\r\n                    }\r\n\r\n                </div>\r\n            </FromCommon>\r\n        </Modal>\r\n    );\r\n};\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        PermissionsList: state.userData.selectedPermissions\r\n    }\r\n}\r\nexport default connect(\r\n    mapStateToProps,\r\n    null\r\n)(withRouter(ModalComm))\r\n",["222","223"],"D:\\mycode\\react\\react-hooks-admin\\src\\api\\department.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\api\\user.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\router\\index.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\stroe\\action\\config.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\api\\job.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\api\\permissions.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\compoents\\table\\index.js",["224","225"],"D:\\mycode\\react\\react-hooks-admin\\src\\compoents\\Checkbox\\index.js",["226","227","228"],"D:\\mycode\\react\\react-hooks-admin\\src\\compoents\\Form\\index.js",["229","230","231","232","233","234","235","236","237","238","239","240","241","242"],"D:\\mycode\\react\\react-hooks-admin\\src\\compoents\\FromSearch\\index.js",["243"],"D:\\mycode\\react\\react-hooks-admin\\src\\stroe\\action\\department.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\utils\\fromTable.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\compoents\\Select\\index.js",["244","245"],"D:\\mycode\\react\\react-hooks-admin\\src\\compoents\\richText\\index.js",["246","247","248"],"D:\\mycode\\react\\react-hooks-admin\\src\\compoents\\Upload\\index.js",["249","250","251","252","253","254"],"D:\\mycode\\react\\react-hooks-admin\\src\\api\\table.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\utils\\requestUrl.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\api\\common.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\api\\staff.js",[],"D:\\mycode\\react\\react-hooks-admin\\src\\utils\\data.js",[],{"ruleId":"255","severity":1,"message":"256","line":2,"column":42,"nodeType":"257","messageId":"258","endLine":2,"endColumn":43,"suggestions":"259"},{"ruleId":"260","severity":1,"message":"261","line":73,"column":45,"nodeType":"262","messageId":"263","endLine":73,"endColumn":47},{"ruleId":"260","severity":1,"message":"261","line":76,"column":65,"nodeType":"262","messageId":"263","endLine":76,"endColumn":67},{"ruleId":"264","severity":1,"message":"265","line":20,"column":7,"nodeType":"266","endLine":20,"endColumn":9,"suggestions":"267"},{"ruleId":"268","severity":1,"message":"269","line":1,"column":49,"nodeType":"270","messageId":"271","endLine":1,"endColumn":58},{"ruleId":"268","severity":1,"message":"272","line":108,"column":26,"nodeType":"270","messageId":"271","endLine":108,"endColumn":41},{"ruleId":"273","replacedBy":"274"},{"ruleId":"275","replacedBy":"276"},{"ruleId":"264","severity":1,"message":"277","line":24,"column":8,"nodeType":"266","endLine":24,"endColumn":18,"suggestions":"278"},{"ruleId":"264","severity":1,"message":"279","line":30,"column":8,"nodeType":"266","endLine":30,"endColumn":20,"suggestions":"280"},{"ruleId":"268","severity":1,"message":"281","line":12,"column":26,"nodeType":"270","messageId":"271","endLine":12,"endColumn":41},{"ruleId":"264","severity":1,"message":"282","line":20,"column":8,"nodeType":"266","endLine":20,"endColumn":21,"suggestions":"283"},{"ruleId":"264","severity":1,"message":"284","line":24,"column":8,"nodeType":"266","endLine":24,"endColumn":24,"suggestions":"285"},{"ruleId":"264","severity":1,"message":"286","line":20,"column":8,"nodeType":"266","endLine":20,"endColumn":23,"suggestions":"287"},{"ruleId":"268","severity":1,"message":"288","line":211,"column":15,"nodeType":"270","messageId":"271","endLine":211,"endColumn":20},{"ruleId":"289","severity":1,"message":"290","line":239,"column":17,"nodeType":"291","messageId":"292","endLine":239,"endColumn":23},{"ruleId":"289","severity":1,"message":"290","line":242,"column":17,"nodeType":"291","messageId":"292","endLine":242,"endColumn":23},{"ruleId":"289","severity":1,"message":"290","line":245,"column":17,"nodeType":"291","messageId":"292","endLine":245,"endColumn":23},{"ruleId":"289","severity":1,"message":"290","line":248,"column":17,"nodeType":"291","messageId":"292","endLine":248,"endColumn":23},{"ruleId":"289","severity":1,"message":"290","line":251,"column":17,"nodeType":"291","messageId":"292","endLine":251,"endColumn":23},{"ruleId":"289","severity":1,"message":"290","line":254,"column":17,"nodeType":"291","messageId":"292","endLine":254,"endColumn":23},{"ruleId":"289","severity":1,"message":"290","line":257,"column":17,"nodeType":"291","messageId":"292","endLine":257,"endColumn":23},{"ruleId":"289","severity":1,"message":"290","line":260,"column":17,"nodeType":"291","messageId":"292","endLine":260,"endColumn":23},{"ruleId":"289","severity":1,"message":"290","line":263,"column":17,"nodeType":"291","messageId":"292","endLine":263,"endColumn":23},{"ruleId":"289","severity":1,"message":"290","line":266,"column":17,"nodeType":"291","messageId":"292","endLine":266,"endColumn":23},{"ruleId":"289","severity":1,"message":"290","line":269,"column":17,"nodeType":"291","messageId":"292","endLine":269,"endColumn":23},{"ruleId":"289","severity":1,"message":"290","line":272,"column":17,"nodeType":"291","messageId":"292","endLine":272,"endColumn":22},{"ruleId":"260","severity":1,"message":"293","line":135,"column":27,"nodeType":"262","messageId":"294","endLine":135,"endColumn":29},{"ruleId":"268","severity":1,"message":"295","line":7,"column":34,"nodeType":"270","messageId":"271","endLine":7,"endColumn":38},{"ruleId":"264","severity":1,"message":"296","line":16,"column":8,"nodeType":"266","endLine":16,"endColumn":13,"suggestions":"297"},{"ruleId":"268","severity":1,"message":"298","line":6,"column":12,"nodeType":"270","messageId":"271","endLine":6,"endColumn":16},{"ruleId":"268","severity":1,"message":"299","line":6,"column":18,"nodeType":"270","messageId":"271","endLine":6,"endColumn":21},{"ruleId":"264","severity":1,"message":"300","line":16,"column":8,"nodeType":"266","endLine":16,"endColumn":19,"suggestions":"301"},{"ruleId":"268","severity":1,"message":"298","line":7,"column":12,"nodeType":"270","messageId":"271","endLine":7,"endColumn":16},{"ruleId":"268","severity":1,"message":"299","line":7,"column":18,"nodeType":"270","messageId":"271","endLine":7,"endColumn":21},{"ruleId":"268","severity":1,"message":"302","line":10,"column":12,"nodeType":"270","messageId":"271","endLine":10,"endColumn":17},{"ruleId":"268","severity":1,"message":"303","line":10,"column":19,"nodeType":"270","messageId":"271","endLine":10,"endColumn":27},{"ruleId":"264","severity":1,"message":"300","line":20,"column":8,"nodeType":"266","endLine":20,"endColumn":19,"suggestions":"304"},{"ruleId":"268","severity":1,"message":"305","line":52,"column":15,"nodeType":"270","messageId":"271","endLine":52,"endColumn":20},"no-useless-escape","Unnecessary escape character: \\-.","Literal","unnecessaryEscape",["306","307"],"array-callback-return","Array.prototype.filter() expects a value to be returned at the end of arrow function.","ArrowFunctionExpression","expectedAtEnd","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'props.actions'. Either include it or remove the dependency array.","ArrayExpression",["308"],"no-unused-vars","'useEffect' is defined but never used.","Identifier","unusedVar","'setmenuRoleList' is assigned a value but never used.","no-native-reassign",["309"],"no-negated-in-lhs",["310"],"React Hook useEffect has a missing dependency: 'prepageSize'. Either include it or remove the dependency array.",["311"],"React Hook useEffect has missing dependencies: 'getData' and 'props.actions'. Either include them or remove the dependency array.",["312"],"'setplainOptions' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'clearMemuPermissionsData', 'onChange', and 'setMemuPermissionsData'. Either include them or remove the dependency array.",["313"],"React Hook useEffect has a missing dependency: 'value'. Either include it or remove the dependency array.",["314"],"React Hook useEffect has a missing dependency: 'resetFrom'. Either include it or remove the dependency array.",["315"],"'rules' is assigned a value but never used.","no-unreachable","Unreachable code.","BreakStatement","unreachableCode","Array.prototype.map() expects a return value from arrow function.","expectedInside","'name' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'getList'. Either include it or remove the dependency array.",["316"],"'data' is assigned a value but never used.","'url' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'name'. Either include it or remove the dependency array.",["317"],"'names' is assigned a value but never used.","'setnames' is assigned a value but never used.",["318"],"'token' is assigned a value but never used.",{"messageId":"319","fix":"320","desc":"321"},{"messageId":"322","fix":"323","desc":"324"},{"desc":"325","fix":"326"},"no-global-assign","no-unsafe-negation",{"desc":"327","fix":"328"},{"desc":"329","fix":"330"},{"desc":"331","fix":"332"},{"desc":"333","fix":"334"},{"desc":"335","fix":"336"},{"desc":"337","fix":"338"},{"desc":"339","fix":"340"},{"desc":"339","fix":"341"},"removeEscape",{"range":"342","text":"343"},"Remove the `\\`. This maintains the current functionality.","escapeBackslash",{"range":"344","text":"345"},"Replace the `\\` with `\\\\` to include the actual backslash character.","Update the dependencies array to be: [props.actions]",{"range":"346","text":"347"},"Update the dependencies array to be: [pageSize, prepageSize]",{"range":"348","text":"349"},"Update the dependencies array to be: [getData, pageNumber, props.actions]",{"range":"350","text":"351"},"Update the dependencies array to be: [checkedList, clearMemuPermissionsData, onChange, setMemuPermissionsData]",{"range":"352","text":"353"},"Update the dependencies array to be: [props.roleMenu, value]",{"range":"354","text":"355"},"Update the dependencies array to be: [buttonloading, resetFrom]",{"range":"356","text":"357"},"Update the dependencies array to be: [getList, url]",{"range":"358","text":"359"},"Update the dependencies array to be: [initValue, name]",{"range":"360","text":"361"},{"range":"362","text":"361"},[122,123],"",[122,122],"\\",[819,821],"[props.actions]",[1113,1123],"[pageSize, prepageSize]",[1269,1281],"[getData, pageNumber, props.actions]",[808,821],"[checkedList, clearMemuPermissionsData, onChange, setMemuPermissionsData]",[952,968],"[props.roleMenu, value]",[854,869],"[buttonloading, resetFrom]",[534,539],"[getList, url]",[526,537],"[initValue, name]",[779,790]]